<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Jasmine cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Jasmine cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\jasmine.md" >edit</a>
  </div>
  <div class="toc">
<b>Tests</b>: <a href="#writing-tests">Writing tests</a>, <a href="#expectations">Expectations</a>, <a href="#hooks">Hooks</a>, <a href="#pending">Pending</a>, <a href="#spies">Spies</a>, <a href="#creating-spies">Creating spies</a>, <a href="#async">Async</a>, <a href="#html-runner">HTML runner</a><br>
<b>Jasmine jQuery</b>: <a href="#expectations1">Expectations</a>, <a href="#event-spies">Event spies</a><br>
<a href="#references">References</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="tests">Tests</h2>
<h3 id="writing-tests">Writing tests</h3>

<pre><code class="js"><span class="hljs-title function_">describe</span>(<span class="hljs-string">&#x27;A suite&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">&#x27;works&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">expect</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
  })
})
</code></pre>
<p>Note: This cheatsheet may be a little outdated. Also see the <a href="./jest">Jest cheatsheet</a>. Jest uses Jasmine, and therefore has similar API.</p>
<h3 id="expectations">Expectations</h3>

<pre><code class="js"><span class="hljs-title function_">expect</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
<span class="hljs-title function_">expect</span>(<span class="hljs-literal">true</span>).<span class="hljs-property">not</span>.<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(a).<span class="hljs-title function_">toEqual</span>(bar)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(message).<span class="hljs-title function_">toMatch</span>(<span class="hljs-regexp">/bar/</span>)
<span class="hljs-title function_">expect</span>(message).<span class="hljs-title function_">toMatch</span>(<span class="hljs-string">&#x27;bar&#x27;</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(a.<span class="hljs-property">foo</span>).<span class="hljs-title function_">toBeDefined</span>()
<span class="hljs-title function_">expect</span>(a.<span class="hljs-property">foo</span>).<span class="hljs-title function_">toBeUndefined</span>()
<span class="hljs-title function_">expect</span>(a.<span class="hljs-property">foo</span>).<span class="hljs-title function_">toBeNull</span>()
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(a.<span class="hljs-property">foo</span>).<span class="hljs-title function_">toBeTruthy</span>()
<span class="hljs-title function_">expect</span>(a.<span class="hljs-property">foo</span>).<span class="hljs-title function_">toBeFalsy</span>()
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(message).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(pi).<span class="hljs-title function_">toBeGreaterThan</span>(<span class="hljs-number">3</span>)
<span class="hljs-title function_">expect</span>(pi).<span class="hljs-title function_">toBeLessThan</span>(<span class="hljs-number">4</span>)
<span class="hljs-title function_">expect</span>(pi).<span class="hljs-title function_">toBeCloseTo</span>(<span class="hljs-number">3.1415</span>, <span class="hljs-number">0.1</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(func).<span class="hljs-title function_">toThrow</span>()
</code></pre>
<h3 id="hooks">Hooks</h3>

<pre><code class="js"><span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">() =&gt;</span> {
  ···
})
</code></pre>

<pre><code class="js"><span class="hljs-title function_">afterEach</span>(<span class="hljs-function">() =&gt;</span> {
  ···
})
</code></pre>
<h3 id="pending">Pending</h3>

<pre><code class="js"><span class="hljs-title function_">xit</span>(<span class="hljs-string">&#x27;this is a pending test&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  ···
})
</code></pre>

<pre><code class="js"><span class="hljs-title function_">xdescribe</span>(<span class="hljs-string">&#x27;this is a pending block&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  ···
})
</code></pre>
<h3 id="spies">Spies</h3>

<pre><code class="js"><span class="hljs-title function_">spyOn</span>(foo, <span class="hljs-string">&#x27;setBar&#x27;</span>)
<span class="hljs-title function_">spyOn</span>(foo, <span class="hljs-string">&#x27;setBar&#x27;</span>).<span class="hljs-title function_">andReturn</span>(<span class="hljs-number">123</span>)
<span class="hljs-title function_">spyOn</span>(foo, <span class="hljs-string">&#x27;getBar&#x27;</span>).<span class="hljs-title function_">andCallFake</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { <span class="hljs-keyword">return</span> <span class="hljs-number">1001</span>; })
foo.<span class="hljs-title function_">setBar</span>(<span class="hljs-number">123</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(foo.<span class="hljs-property">setBar</span>).<span class="hljs-title function_">toHaveBeenCalled</span>()
<span class="hljs-title function_">expect</span>(foo.<span class="hljs-property">setBar</span>).<span class="hljs-title function_">toHaveBeenCalledWith</span>(<span class="hljs-number">123</span>)
<span class="hljs-title function_">expect</span>(foo.<span class="hljs-property">setBar</span>.<span class="hljs-property">calls</span>.<span class="hljs-property">length</span>).<span class="hljs-title function_">toEqual</span>(<span class="hljs-number">2</span>)
<span class="hljs-title function_">expect</span>(foo.<span class="hljs-property">setBar</span>.<span class="hljs-property">calls</span>[<span class="hljs-number">0</span>].<span class="hljs-property">args</span>[<span class="hljs-number">0</span>]).<span class="hljs-title function_">toEqual</span>(<span class="hljs-number">123</span>)
</code></pre>
<h3 id="creating-spies">Creating spies</h3>

<pre><code class="js">stub = jasmine.<span class="hljs-title function_">createSpy</span>(<span class="hljs-string">&#x27;stub&#x27;</span>)
<span class="hljs-title function_">stub</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>(stub.<span class="hljs-property">identity</span>).<span class="hljs-title function_">toEqual</span>(<span class="hljs-string">&#x27;stub&#x27;</span>)
<span class="hljs-title function_">expect</span>(stub).<span class="hljs-title function_">toHaveBeenCalled</span>()
</code></pre>
<h3 id="async">Async</h3>

<pre><code class="js"><span class="hljs-title function_">test</span>(<span class="hljs-string">&#x27;works with promises&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    ···
  })
})
</code></pre>
<p>Make your test return a promise.</p>
<h3 id="html-runner">HTML runner</h3>

<pre><code class="js"><span class="hljs-keyword">var</span> jasmineEnv = jasmine.<span class="hljs-title function_">getEnv</span>()
jasmineEnv.<span class="hljs-property">updateInterval</span> = <span class="hljs-number">250</span>

<span class="hljs-keyword">var</span> htmlReporter = <span class="hljs-keyword">new</span> jasmine.<span class="hljs-title class_">HtmlReporter</span>()
jasmineEnv.<span class="hljs-title function_">addReporter</span>(htmlReporter)

$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) { jasmineEnv.<span class="hljs-title function_">execute</span>() })
</code></pre>
<h2 id="jasmine-jquery">Jasmine jQuery</h2>
<h3 id="expectations1">Expectations</h3>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;#id&#x27;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&#x27;div&#x27;</span>)
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;input[type=checkbox]&#x27;</span>)).<span class="hljs-title function_">toBeChecked</span>()
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;input[type=checkbox]&#x27;</span>)).<span class="hljs-title function_">toBeDisabled</span>()
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;input[type=checkbox]&#x27;</span>)).<span class="hljs-title function_">toBeFocused</span>()
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;#menu ul&#x27;</span>)).<span class="hljs-title function_">toBeEmpty</span>()
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;#toolbar&#x27;</span>)).<span class="hljs-title function_">toBeHidden</span>()
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;#toolbar&#x27;</span>)).<span class="hljs-title function_">toBeVisible</span>()
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;#popup&#x27;</span>)).<span class="hljs-title function_">toHaveCss</span>({ <span class="hljs-attr">margin</span>: <span class="hljs-string">&quot;10px&quot;</span> })
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;option&#x27;</span>)).<span class="hljs-title function_">toBeSelected</span>()
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;.foo&#x27;</span>)).<span class="hljs-title function_">toExist</span>()
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toHaveAttr</span>(<span class="hljs-string">&#x27;rel&#x27;</span>)
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toHaveAttr</span>(<span class="hljs-string">&#x27;rel&#x27;</span>, <span class="hljs-string">&#x27;nofollow&#x27;</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toHaveClass</span>(<span class="hljs-string">&#x27;rel&#x27;</span>)
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toHaveId</span>(<span class="hljs-string">&#x27;home&#x27;</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toHaveHtml</span>(<span class="hljs-string">&#x27;&lt;span&gt;&lt;/span&gt;&#x27;</span>)
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toContainHtml</span>(<span class="hljs-string">&#x27;&lt;span&gt;&lt;/span&gt;&#x27;</span>)
<span class="hljs-title function_">expect</span>($(<span class="hljs-string">&#x27;a&#x27;</span>)).<span class="hljs-title function_">toHaveText</span>(<span class="hljs-string">&#x27;hi&#x27;</span>)
</code></pre>

<pre><code class="js"><span class="hljs-title function_">expect</span>($form).<span class="hljs-title function_">toHandle</span>(<span class="hljs-string">&#x27;submit&#x27;</span>) <span class="hljs-comment">// event</span>
<span class="hljs-title function_">expect</span>($form).<span class="hljs-title function_">toHandleWith</span>(<span class="hljs-string">&#x27;submit&#x27;</span>, onSumbit)
</code></pre>
<p>See: <a href="https://github.com/velesin/jasmine-jquery">jasmine-jquery</a></p>
<h3 id="event-spies">Event spies</h3>

<pre><code class="js"><span class="hljs-title function_">spyOnEvent</span>($(<span class="hljs-string">&#x27;#some_element&#x27;</span>), <span class="hljs-string">&#x27;click&#x27;</span>)
$(<span class="hljs-string">&#x27;#some_element&#x27;</span>).<span class="hljs-title function_">click</span>()
<span class="hljs-title function_">expect</span>(<span class="hljs-string">&#x27;click&#x27;</span>).<span class="hljs-title function_">toHaveBeenPreventedOn</span>($(<span class="hljs-string">&#x27;#some_element&#x27;</span>))
<span class="hljs-title function_">expect</span>(<span class="hljs-string">&#x27;click&#x27;</span>).<span class="hljs-title function_">toHaveBeenTriggeredOn</span>($(<span class="hljs-string">&#x27;#some_element&#x27;</span>))
</code></pre>
<h2 id="references">References</h2>

<ul>
<li>Also see the <a href="./jest">Jest cheatsheet</a>. Jest uses Jasmine, and therefore has similar API.</li>
<li><a href="https://jasmine.github.io">https://jasmine.github.io</a></li>
</ul>

</div>
</body>  
</html>