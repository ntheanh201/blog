<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ActiveAdmin cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / ActiveAdmin cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints/activeadmin.md" >edit</a>
  </div>
  <div class="toc">
<b>Main</b>: <a href="#intro">Intro</a>, <a href="#listing-scopes">Listing scopes</a>, <a href="#sidebar-filters">Sidebar filters</a>, <a href="#custom-actions">Custom actions</a>, <a href="#columns">Columns</a>, <a href="#other-helpers">Other helpers</a>, <a href="#disabling-new-post-">Disabling 'new post'</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="main">Main</h2>
<h3 id="intro">Intro</h3>
<p><a href="https://activeadmin.info/documentation.html">ActiveAdmin</a> is a framework for creating administration style interfaces. It abstracts common business application patterns to make it simple for developers to implement beautiful and elegant interfaces with very little effort.</p>
<h3 id="listing-scopes">Listing scopes</h3>
<p>Allows you to filter listings by a certain scope.</p>

<pre><code class="ruby">scope <span class="hljs-symbol">:draft</span>
scope <span class="hljs-symbol">:for_approval</span>
</code></pre>

<pre><code class="ruby">scope <span class="hljs-symbol">:public</span>, <span class="hljs-symbol">if:</span> -&gt;{ current_admin_user.can?(...) }
scope <span class="hljs-string">&quot;Unapproved&quot;</span>, <span class="hljs-symbol">:pending</span>
scope(<span class="hljs-string">&quot;Published&quot;</span>) { <span class="hljs-params">|books|</span> books.where(<span class="hljs-symbol">:published</span>: <span class="hljs-literal">true</span>) }
</code></pre>
<h3 id="sidebar-filters">Sidebar filters</h3>

<pre><code class="ruby">filter <span class="hljs-symbol">:email</span>
filter <span class="hljs-symbol">:username</span>
</code></pre>
<h3 id="custom-actions">Custom actions</h3>
<p>You can define custom actions for models.</p>

<pre><code class="ruby">before_filter <span class="hljs-symbol">only:</span> [<span class="hljs-symbol">:show</span>, <span class="hljs-symbol">:edit</span>, <span class="hljs-symbol">:publish</span>] <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@post</span> = Post.find(params[<span class="hljs-symbol">:id</span>])
<span class="hljs-keyword">end</span>
</code></pre>
<h4 id="make-the-route">Make the route</h4>

<pre><code class="ruby">member_action <span class="hljs-symbol">:publish</span>, <span class="hljs-symbol">method:</span> <span class="hljs-symbol">:put</span> <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@post</span>.publish!
  redirect_to admin_posts_path, <span class="hljs-symbol">notice:</span> <span class="hljs-string">&quot;The post &#x27;<span class="hljs-subst">#{<span class="hljs-variable">@post</span>}</span>&#x27; has been published!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h4 id="link-it-in-the-index">Link it in the index</h4>

<pre><code class="ruby">index <span class="hljs-keyword">do</span>
  column <span class="hljs-keyword">do</span> <span class="hljs-params">|post|</span>
    link_to <span class="hljs-string">&#x27;Publish&#x27;</span>, publish_admin_post_path(post), <span class="hljs-symbol">method:</span> <span class="hljs-symbol">:put</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h4 id="and-link-it-in-show-edit">And link it in show/edit</h4>

<pre><code class="ruby">action_item <span class="hljs-symbol">only:</span> [<span class="hljs-symbol">:edit</span>, <span class="hljs-symbol">:show</span>] <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@post</span> = Post.find(params[<span class="hljs-symbol">:id</span>])
  link_to <span class="hljs-string">&#x27;Publish&#x27;</span>, publish_admin_post_path(post), <span class="hljs-symbol">method:</span> <span class="hljs-symbol">:put</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="columns">Columns</h3>

<pre><code class="ruby">column <span class="hljs-symbol">:foo</span>
</code></pre>

<pre><code class="ruby">column <span class="hljs-symbol">:title</span>, <span class="hljs-symbol">sortable:</span> <span class="hljs-symbol">:name</span> <span class="hljs-keyword">do</span> <span class="hljs-params">|post|</span>
  strong post.title
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="other-helpers">Other helpers</h3>

<pre><code class="ruby">status_tag <span class="hljs-string">&quot;Done&quot;</span>           <span class="hljs-comment"># Gray</span>
status_tag <span class="hljs-string">&quot;Finished&quot;</span>, <span class="hljs-symbol">:ok</span>  <span class="hljs-comment"># Green</span>
status_tag <span class="hljs-string">&quot;You&quot;</span>, <span class="hljs-symbol">:warn</span>     <span class="hljs-comment"># Orange</span>
status_tag <span class="hljs-string">&quot;Failed&quot;</span>, <span class="hljs-symbol">:error</span> <span class="hljs-comment"># Red</span>
</code></pre>
<h3 id="disabling-new-post-">Disabling &#39;new post&#39;</h3>

<pre><code class="ruby">ActiveAdmin.register Post <span class="hljs-keyword">do</span>
  actions <span class="hljs-symbol">:index</span>, <span class="hljs-symbol">:edit</span>
  <span class="hljs-comment"># or: config.clear_action_items!</span>
<span class="hljs-keyword">end</span>
</code></pre>

</div>
</body>  
</html>