<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Vim scripting cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Vim scripting cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\vimscript.md" >edit</a>
  </div>
  <div class="toc">
<b>Main</b>: <a href="#start-hacking">Start hacking</a>, <a href="#learn-by-example">Learn by example</a><br>
<b>Variables</b>: <a href="#defining">Defining</a>, <a href="#variable-prefixes">Variable prefixes</a>, <a href="#other-prefixes">Other prefixes</a>, <a href="#vim-options">Vim options</a>, <a href="#operators">Operators</a><br>
<b>Strings</b>: <a href="#strings1">Strings</a>, <a href="#string-functions">String functions</a><br>
<b>Functions</b>: <a href="#functions1">Functions</a>, <a href="#namespacing">Namespacing</a>, <a href="#calling-functions">Calling functions</a>, <a href="#consuming-return-values">Consuming return values</a>, <a href="#abortable">Abortable</a>, <a href="#var-arguments">Var arguments</a><br>
<a href="#loops">Loops</a><br>
<b>Custom commands</b>: <a href="#custom-commands1">Custom commands</a>, <a href="#commands-calling-functions">Commands calling functions</a>, <a href="#commands-with-arguments">Commands with arguments</a><br>
<b>Flow</b>: <a href="#conditionals">Conditionals</a>, <a href="#truthiness">Truthiness</a>, <a href="#operators1">Operators</a>, <a href="#strings11">Strings</a>, <a href="#identity-operators">Identity operators</a>, <a href="#regexp-matches">Regexp matches</a>, <a href="#single-line">Single line</a>, <a href="#boolean-logic">Boolean logic</a><br>
<b>Lists</b>: <a href="#lists1">Lists</a>, <a href="#functions11">Functions</a>, <a href="#concatenation">Concatenation</a>, <a href="#sublists">Sublists</a>, <a href="#push">Push</a>, <a href="#map">Map</a><br>
<b>Dictionaries</b>: <a href="#dictionaries1">Dictionaries</a>, <a href="#using-dictionaries">Using dictionaries</a>, <a href="#iteration">Iteration</a>, <a href="#prefixes">Prefixes</a>, <a href="#extending">Extending</a><br>
<a href="#casting">Casting</a><br>
<b>Numbers</b>: <a href="#numbers1">Numbers</a>, <a href="#floats">Floats</a>, <a href="#arithmetic">Arithmetic</a>, <a href="#math-functions">Math functions</a><br>
<b>Vim-isms</b>: <a href="#execute-a-command">Execute a command</a>, <a href="#running-keystrokes">Running keystrokes</a>, <a href="#getting-filenames">Getting filenames</a>, <a href="#silencing">Silencing</a>, <a href="#echo">Echo</a>, <a href="#settings">Settings</a>, <a href="#prompts">Prompts</a>, <a href="#built-ins">Built-ins</a><br>
<b>Mapping</b>: <a href="#mapping-commands">Mapping commands</a>, <a href="#explanation">Explanation</a>, <a href="#arguments">Arguments</a><br>
<b>Syntax</b>: <a href="#highlights">Highlights</a>, <a href="#filetype-detection">Filetype detection</a>, <a href="#conceal">Conceal</a>, <a href="#region-conceal">Region conceal</a>, <a href="#syntax1">Syntax</a>, <a href="#include-guards">Include guards</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h3 id="start-hacking">Start hacking</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> name = <span class="hljs-string">&quot;John&quot;</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Hello, &quot;</span> . name
</code></pre>
<p>You can either put this in a script (<code>script.vim</code>) and run it (<code>:source script.vim</code>), or you can type the commands individually in normal mode as <code>:let</code> and <code>:echo</code>.</p>
<h3 id="learn-by-example">Learn by example</h3>

<pre><code class="vim"><span class="hljs-keyword">function!</span> <span class="hljs-title">SuperTab</span><span class="hljs-params">()</span>
  <span class="hljs-keyword">let</span> <span class="hljs-variable">l:part</span> = <span class="hljs-built_in">strpart</span>(<span class="hljs-built_in">getline</span>(<span class="hljs-string">&#x27;.&#x27;</span>),<span class="hljs-keyword">col</span>(<span class="hljs-string">&#x27;.&#x27;</span>)-<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)
  <span class="hljs-keyword">if</span> (<span class="hljs-variable">l:part</span> =~ <span class="hljs-string">&#x27;^\W\?$&#x27;</span>)
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\&lt;Tab&gt;&quot;</span>
  <span class="hljs-keyword">else</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\&lt;C-n&gt;&quot;</span>
  <span class="hljs-keyword">endif</span>
<span class="hljs-keyword">endfunction</span>

<span class="hljs-keyword">imap</span> <span class="hljs-symbol">&lt;Tab&gt;</span> <span class="hljs-symbol">&lt;C-R&gt;</span>=SuperTab()<span class="hljs-symbol">&lt;CR&gt;</span>
</code></pre>
<p><a href="http://www.vimbits.com/bits/46">Here</a>&#39;s another example with <a href="#functions">functions</a>, <a href="#variables">variables</a> and <a href="#mapping">mapping</a>.</p>
<h2 id="variables">Variables</h2>
<h3 id="defining">Defining</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> var = <span class="hljs-string">&quot;hello&quot;</span>
</code></pre>
<h3 id="variable-prefixes">Variable prefixes</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> <span class="hljs-variable">g:ack_options</span> = <span class="hljs-string">&#x27;-s -H&#x27;</span>    <span class="hljs-comment">&quot; g: global</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">s:ack_program</span> = <span class="hljs-string">&#x27;ack&#x27;</span>      <span class="hljs-comment">&quot; s: local (to script)</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">l:foo</span> = <span class="hljs-string">&#x27;bar&#x27;</span>              <span class="hljs-comment">&quot; l: local (to function)</span>
</code></pre>
<p>The <code>s:</code> prefix is also available in function names. See <code>:help local-variables</code></p>
<h3 id="other-prefixes">Other prefixes</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> <span class="hljs-variable">w:foo</span> = <span class="hljs-string">&#x27;bar&#x27;</span>    <span class="hljs-comment">&quot; w: window</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">b:state</span> = <span class="hljs-string">&#x27;on&#x27;</span>   <span class="hljs-comment">&quot; b: buffer</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">t:state</span> = <span class="hljs-string">&#x27;off&#x27;</span>  <span class="hljs-comment">&quot; t: tab</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">v:var</span>           <span class="hljs-comment">&quot; v: vim special</span>
</code></pre>

<pre><code class="vim"><span class="hljs-keyword">let</span> @/ = <span class="hljs-string">&#x27;&#x27;</span>          <span class="hljs-comment">&quot; @  register (this clears last search pattern)</span>
<span class="hljs-keyword">echo</span> $PATH           <span class="hljs-comment">&quot; $  env</span>
</code></pre>
<h3 id="vim-options">Vim options</h3>

<pre><code class="vim"><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;tabstop is &#x27;</span> . &amp;tabstop
<span class="hljs-keyword">if</span> &amp;insertmode
<span class="hljs-keyword">echo</span> &amp;<span class="hljs-variable">g:option</span>
<span class="hljs-keyword">echo</span> &amp;<span class="hljs-variable">l:option</span>
</code></pre>
<p>Prefix Vim options with <code>&amp;</code></p>
<h3 id="operators">Operators</h3>

<pre><code class="vim"><span class="hljs-keyword">a</span> + <span class="hljs-keyword">b</span>             <span class="hljs-comment">&quot; numbers only!</span>
<span class="hljs-string">&#x27;hello &#x27;</span> . name   <span class="hljs-comment">&quot; concat</span>
</code></pre>

<pre><code class="vim"><span class="hljs-keyword">let</span> var -= <span class="hljs-number">2</span>
<span class="hljs-keyword">let</span> var += <span class="hljs-number">5</span>
<span class="hljs-keyword">let</span> var .= <span class="hljs-string">&#x27;string&#x27;</span>   <span class="hljs-comment">&quot; concat</span>
</code></pre>
<h2 id="strings">Strings</h2>
<h3 id="strings1">Strings</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;String&quot;</span>
<span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;String with \n newline&quot;</span>

<span class="hljs-keyword">let</span> literal = <span class="hljs-string">&#x27;literal, no \ escaping&#x27;</span>
<span class="hljs-keyword">let</span> literal = <span class="hljs-string">&#x27;that&#x27;</span><span class="hljs-string">&#x27;s enough&#x27;</span>  <span class="hljs-comment">&quot; double &#x27;&#x27; =&gt; &#x27;</span>

<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;result = &quot;</span> . re   <span class="hljs-comment">&quot; concatenation</span>
</code></pre>
<p>Also see <code>:help literal-string</code> and <code>:help expr-quote</code>.
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/26.html">Strings</a></p>
<h3 id="string-functions">String functions</h3>

<pre><code class="vim"><span class="hljs-built_in">strlen</span>(str)    <span class="hljs-comment">&quot; length</span>
<span class="hljs-built_in">len</span>(str)       <span class="hljs-comment">&quot; same</span>
<span class="hljs-built_in">strchars</span>(str)  <span class="hljs-comment">&quot; character length</span>

<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;one two three&quot;</span>)       <span class="hljs-comment">&quot;=&gt; [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span>
<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;one.two.three&quot;</span>, <span class="hljs-string">&#x27;.&#x27;</span>)  <span class="hljs-comment">&quot;=&gt; [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span>

<span class="hljs-keyword">join</span>([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], <span class="hljs-string">&#x27;,&#x27;</span>)  <span class="hljs-comment">&quot;=&gt; &#x27;a,b&#x27;</span>

<span class="hljs-built_in">tolower</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>)
<span class="hljs-built_in">toupper</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>)
</code></pre>
<p>Also see <code>:help functions</code>
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/27.html">String functions</a></p>
<h2 id="functions">Functions</h2>
<h3 id="functions1">Functions</h3>

<pre><code class="vim"><span class="hljs-comment">&quot; prefix with s: for local script-only functions</span>
<span class="hljs-keyword">function!</span> <span class="hljs-title">s</span>:Initialize<span class="hljs-params">(cmd, args)</span>
  <span class="hljs-comment">&quot; a: prefix for arguments</span>
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Command: &quot;</span> . <span class="hljs-variable">a:cmd</span>

  <span class="hljs-keyword">return</span> true
<span class="hljs-keyword">endfunction</span>
</code></pre>
<p>See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/23.html">Functions</a></p>
<h3 id="namespacing">Namespacing</h3>

<pre><code class="vim"><span class="hljs-keyword">function!</span> <span class="hljs-title">myplugin</span>#hello<span class="hljs-params">()</span>
</code></pre>
<h3 id="calling-functions">Calling functions</h3>

<pre><code class="vim"><span class="hljs-keyword">call</span> <span class="hljs-variable">s:Initialize</span>()
<span class="hljs-keyword">call</span> <span class="hljs-variable">s:Initialize</span>(<span class="hljs-string">&quot;hello&quot;</span>)
</code></pre>
<h3 id="consuming-return-values">Consuming return values</h3>

<pre><code class="vim"><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Result: &quot;</span> . <span class="hljs-variable">s:Initialize</span>()
</code></pre>
<h3 id="abortable">Abortable</h3>

<pre><code class="vim"><span class="hljs-keyword">function!</span> <span class="hljs-title">myfunction</span><span class="hljs-params">()</span> abort
<span class="hljs-keyword">endfunction</span>
</code></pre>
<p>Aborts when an error occurs.</p>
<h3 id="var-arguments">Var arguments</h3>

<pre><code class="vim"><span class="hljs-keyword">function!</span> <span class="hljs-title">infect</span><span class="hljs-params">(...)</span>
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">a:0</span>    <span class="hljs-comment">&quot;=&gt; 2</span>
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">a:1</span>    <span class="hljs-comment">&quot;=&gt; jake</span>
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">a:2</span>    <span class="hljs-comment">&quot;=&gt; bella</span>

  <span class="hljs-keyword">for</span> s in <span class="hljs-variable">a:000</span>  <span class="hljs-comment">&quot; a list</span>
    <span class="hljs-keyword">echon</span> <span class="hljs-string">&#x27; &#x27;</span> . s
  <span class="hljs-keyword">endfor</span>
<span class="hljs-keyword">endfunction</span>

infect(<span class="hljs-string">&#x27;jake&#x27;</span>, <span class="hljs-string">&#x27;bella&#x27;</span>)
</code></pre>
<p>See <code>:help function-argument</code>.  See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/24.html">Var arguments</a></p>
<h2 id="loops">Loops</h2>

<pre><code class="vim"><span class="hljs-keyword">for</span> s in <span class="hljs-keyword">list</span>
  <span class="hljs-keyword">echo</span> s
  <span class="hljs-keyword">continue</span>  <span class="hljs-comment">&quot; jump to start of loop</span>
  <span class="hljs-keyword">break</span>     <span class="hljs-comment">&quot; breaks out of a loop</span>
<span class="hljs-keyword">endfor</span>
</code></pre>

<pre><code class="vim"><span class="hljs-keyword">while</span> <span class="hljs-keyword">x</span> &lt; <span class="hljs-number">5</span>
<span class="hljs-keyword">endwhile</span>
</code></pre>
<h2 id="custom-commands">Custom commands</h2>
<h3 id="custom-commands1">Custom commands</h3>

<pre><code class="vim">command! Save :<span class="hljs-keyword">set</span> <span class="hljs-keyword">fo</span>=want tw=<span class="hljs-number">80</span> nowrap
</code></pre>
<p>Custom commands start with uppercase letters. The <code>!</code> redefines a command if it already exists.</p>
<h3 id="commands-calling-functions">Commands calling functions</h3>

<pre><code class="vim">command! Save <span class="hljs-keyword">call</span> <span class="hljs-symbol">&lt;SID&gt;</span>foo()
</code></pre>

<pre><code class="vim"><span class="hljs-keyword">function!</span> <span class="hljs-title">s</span>:foo<span class="hljs-params">()</span>
  ...
<span class="hljs-keyword">endfunction</span>
</code></pre>
<h3 id="commands-with-arguments">Commands with arguments</h3>

<pre><code class="vim">command! -nargs=? Save <span class="hljs-keyword">call</span> script#foo(<span class="hljs-symbol">&lt;args&gt;</span>)
</code></pre>

<table>
<thead>
<tr>
<th>What</th>
<th>What</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-nargs=0</code></td>
<td>0 arguments, default</td>
</tr>
<tr>
<td><code>-nargs=1</code></td>
<td>1 argument, includes spaces</td>
</tr>
<tr>
<td><code>-nargs=?</code></td>
<td>0 or 1 argument</td>
</tr>
<tr>
<td><code>-nargs=*</code></td>
<td>0+ arguments, space separated</td>
</tr>
<tr>
<td><code>-nargs=+</code></td>
<td>1+ arguments, space reparated</td>
</tr>
</tbody>
</table>
<h2 id="flow">Flow</h2>
<h3 id="conditionals">Conditionals</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> char = <span class="hljs-built_in">getchar</span>()
<span class="hljs-keyword">if</span> char == <span class="hljs-string">&quot;\&lt;LeftMouse&gt;&quot;</span>
  <span class="hljs-comment">&quot; ...</span>
<span class="hljs-keyword">elseif</span> char == <span class="hljs-string">&quot;\&lt;RightMouse&gt;&quot;</span>
  <span class="hljs-comment">&quot; ...</span>
<span class="hljs-keyword">else</span>
  <span class="hljs-comment">&quot; ...</span>
<span class="hljs-keyword">endif</span>
</code></pre>
<h3 id="truthiness">Truthiness</h3>

<pre><code class="vim"><span class="hljs-keyword">if</span> <span class="hljs-number">1</span> | <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;true&quot;</span>  | <span class="hljs-keyword">endif</span>
<span class="hljs-keyword">if</span> <span class="hljs-number">0</span> | <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;false&quot;</span> | <span class="hljs-keyword">endif</span>
</code></pre>

<pre><code class="vim"><span class="hljs-keyword">if</span> <span class="hljs-number">1</span>       <span class="hljs-comment">&quot;=&gt; 1 (true)</span>
<span class="hljs-keyword">if</span> <span class="hljs-number">0</span>       <span class="hljs-comment">&quot;=&gt; 0 (false)</span>
<span class="hljs-keyword">if</span> <span class="hljs-string">&quot;1&quot;</span>     <span class="hljs-comment">&quot;=&gt; 1 (true)</span>
<span class="hljs-keyword">if</span> <span class="hljs-string">&quot;456&quot;</span>   <span class="hljs-comment">&quot;=&gt; 1 (true)</span>
<span class="hljs-keyword">if</span> <span class="hljs-string">&quot;xfz&quot;</span>   <span class="hljs-comment">&quot;=&gt; 0 (false)</span>
</code></pre>
<p>No booleans. <code>0</code> is false, <code>1</code> is true.
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/21.html">Truthiness</a></p>
<h3 id="operators1">Operators</h3>

<pre><code class="vim"><span class="hljs-keyword">if</span> <span class="hljs-number">3</span> &gt; <span class="hljs-number">2</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">a</span> &amp;&amp; <span class="hljs-keyword">b</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">a</span> &amp;&amp; <span class="hljs-keyword">b</span>) || (<span class="hljs-keyword">c</span> &amp;&amp; d)
<span class="hljs-keyword">if</span> !c
</code></pre>
<p>See <code>:help expression-syntax</code>.
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/22.html">Operators</a></p>
<h3 id="strings11">Strings</h3>

<pre><code class="vim"><span class="hljs-keyword">if</span> name ==# <span class="hljs-string">&#x27;John&#x27;</span>     <span class="hljs-comment">&quot; case-sensitive</span>
<span class="hljs-keyword">if</span> name ==? <span class="hljs-string">&#x27;John&#x27;</span>     <span class="hljs-comment">&quot; case-insensitive</span>
<span class="hljs-keyword">if</span> name == <span class="hljs-string">&#x27;John&#x27;</span>      <span class="hljs-comment">&quot; depends on :set ignorecase</span>

<span class="hljs-comment">&quot; also: is#, is?, &gt;=#, &gt;=?, and so on</span>
</code></pre>
<h3 id="identity-operators">Identity operators</h3>

<pre><code class="vim"><span class="hljs-keyword">a</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">b</span>
<span class="hljs-keyword">a</span> isnot <span class="hljs-keyword">b</span>
</code></pre>
<p>Checks if it&#39;s the same instance object.</p>
<h3 id="regexp-matches">Regexp matches</h3>

<pre><code class="vim"><span class="hljs-string">&quot;hello&quot;</span> =~ <span class="hljs-string">&#x27;xx*&#x27;</span>
<span class="hljs-string">&quot;hello&quot;</span> !~ <span class="hljs-string">&#x27;xx*&#x27;</span>
<span class="hljs-string">&quot;hello&quot;</span> =~ <span class="hljs-string">&#x27;\v&lt;\d+&gt;&#x27;</span>
</code></pre>
<p><code>\v</code> enables &quot;extended&quot; regex mode which allows word boundary (<code>&lt;&gt;</code>), <code>+</code>, and more.</p>
<h3 id="single-line">Single line</h3>

<pre><code class="vim"><span class="hljs-keyword">if</span> <span class="hljs-built_in">empty</span>(<span class="hljs-variable">a:path</span>) | <span class="hljs-keyword">return</span> [] | <span class="hljs-keyword">endif</span>
<span class="hljs-keyword">a</span> ? <span class="hljs-keyword">b</span> : <span class="hljs-keyword">c</span>
</code></pre>
<p>Use <code>|</code> to join lines together.</p>
<h3 id="boolean-logic">Boolean logic</h3>

<pre><code class="vim"><span class="hljs-keyword">if</span> <span class="hljs-variable">g:use_dispatch</span> &amp;&amp; <span class="hljs-variable">s:has_dispatch</span>
  ···
<span class="hljs-keyword">endif</span>
</code></pre>
<h2 id="lists">Lists</h2>
<h3 id="lists1">Lists</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> mylist = [<span class="hljs-number">1</span>, two, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;four&quot;</span>]

<span class="hljs-keyword">let</span> <span class="hljs-keyword">first</span> = mylist[<span class="hljs-number">0</span>]
<span class="hljs-keyword">let</span> <span class="hljs-keyword">last</span>  = mylist[-<span class="hljs-number">1</span>]

<span class="hljs-comment">&quot; Suppresses errors</span>
<span class="hljs-keyword">let</span> second = <span class="hljs-built_in">get</span>(mylist, <span class="hljs-number">1</span>)
<span class="hljs-keyword">let</span> second = <span class="hljs-built_in">get</span>(mylist, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;NONE&quot;</span>)
</code></pre>
<h3 id="functions11">Functions</h3>

<pre><code class="vim"><span class="hljs-built_in">len</span>(mylist)
<span class="hljs-built_in">empty</span>(mylist)

<span class="hljs-keyword">sort</span>(<span class="hljs-keyword">list</span>)
<span class="hljs-keyword">let</span> sortedlist = <span class="hljs-keyword">sort</span>(<span class="hljs-keyword">copy</span>(<span class="hljs-keyword">list</span>))

<span class="hljs-keyword">split</span>(<span class="hljs-string">&#x27;hello there world&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>)
</code></pre>
<h3 id="concatenation">Concatenation</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> longlist = mylist + [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
<span class="hljs-keyword">let</span> mylist += [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]
</code></pre>
<h3 id="sublists">Sublists</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> shortlist = mylist[<span class="hljs-number">2</span>:-<span class="hljs-number">1</span>]
<span class="hljs-keyword">let</span> shortlist = mylist[<span class="hljs-number">2</span>:]     <span class="hljs-comment">&quot; same</span>

<span class="hljs-keyword">let</span> shortlist = mylist[<span class="hljs-number">2</span>:<span class="hljs-number">2</span>]    <span class="hljs-comment">&quot; one item</span>
</code></pre>
<h3 id="push">Push</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> alist = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-keyword">let</span> alist = <span class="hljs-built_in">add</span>(alist, <span class="hljs-number">4</span>)
</code></pre>
<h3 id="map">Map</h3>

<pre><code class="vim"><span class="hljs-keyword">call</span> <span class="hljs-keyword">map</span>(<span class="hljs-keyword">files</span>, <span class="hljs-string">&quot;bufname(v:val)&quot;</span>)  <span class="hljs-comment">&quot; use v:val for value</span>
<span class="hljs-keyword">call</span> <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">files</span>, <span class="hljs-string">&#x27;v:val != &quot;&quot;&#x27;</span>)
</code></pre>
<h2 id="dictionaries">Dictionaries</h2>
<h3 id="dictionaries1">Dictionaries</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> colors = {
  \ <span class="hljs-string">&quot;apple&quot;</span>: <span class="hljs-string">&quot;red&quot;</span>,
  \ <span class="hljs-string">&quot;banana&quot;</span>: <span class="hljs-string">&quot;yellow&quot;</span>
}

<span class="hljs-keyword">echo</span> colors[<span class="hljs-string">&quot;a&quot;</span>]
<span class="hljs-keyword">echo</span> <span class="hljs-built_in">get</span>(colors, <span class="hljs-string">&quot;apple&quot;</span>)   <span class="hljs-comment">&quot; suppress error</span>
</code></pre>
<p>See <code>:help dict</code></p>
<h3 id="using-dictionaries">Using dictionaries</h3>

<pre><code class="vim"><span class="hljs-built_in">remove</span>(colors, <span class="hljs-string">&quot;apple&quot;</span>)
</code></pre>

<pre><code class="vim"><span class="hljs-comment">&quot; :help E715</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">has_key</span>(dict, <span class="hljs-string">&#x27;foo&#x27;</span>)
<span class="hljs-keyword">if</span> <span class="hljs-built_in">empty</span>(dict)
<span class="hljs-built_in">keys</span>(dict)
<span class="hljs-built_in">len</span>(dict)
</code></pre>

<pre><code class="vim"><span class="hljs-built_in">max</span>(dict)
<span class="hljs-built_in">min</span>(dict)
</code></pre>

<pre><code class="vim"><span class="hljs-built_in">count</span>(dict, <span class="hljs-string">&#x27;x&#x27;</span>)
<span class="hljs-built_in">string</span>(dict)
</code></pre>

<pre><code class="vim"><span class="hljs-keyword">map</span>(dict, <span class="hljs-string">&#x27;&lt;&gt;&gt; &quot; . v:val&#x27;</span>)
</code></pre>
<h3 id="iteration">Iteration</h3>

<pre><code class="vim"><span class="hljs-keyword">for</span> key in <span class="hljs-built_in">keys</span>(mydict)
  <span class="hljs-keyword">echo</span> key . <span class="hljs-string">&#x27;: &#x27;</span> . mydict(key)
<span class="hljs-keyword">endfor</span>
</code></pre>
<h3 id="prefixes">Prefixes</h3>

<pre><code class="vim"><span class="hljs-built_in">keys</span>(s:)
</code></pre>
<p>Prefixes (<code>s:</code>, <code>g:</code>, <code>l:</code>, etc) are actually dictionaries.</p>
<h3 id="extending">Extending</h3>

<pre><code class="vim"><span class="hljs-comment">&quot; Extending with more</span>
<span class="hljs-keyword">let</span> <span class="hljs-built_in">extend</span>(<span class="hljs-variable">s:fruits</span>, { ... })
</code></pre>
<h2 id="casting">Casting</h2>

<pre><code class="vim"><span class="hljs-built_in">str2float</span>(<span class="hljs-string">&quot;2.3&quot;</span>)
<span class="hljs-built_in">str2nr</span>(<span class="hljs-string">&quot;3&quot;</span>)
<span class="hljs-built_in">float2nr</span>(<span class="hljs-string">&quot;3.14&quot;</span>)
</code></pre>
<h2 id="numbers">Numbers</h2>
<h3 id="numbers1">Numbers</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> <span class="hljs-keyword">int</span> = <span class="hljs-number">1000</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword">int</span> = <span class="hljs-number">0</span>xff
<span class="hljs-keyword">let</span> <span class="hljs-keyword">int</span> = <span class="hljs-number">0755</span>   <span class="hljs-comment">&quot; octal</span>
</code></pre>
<p>See <code>:help Number</code>.
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/25.html">Numbers</a></p>
<h3 id="floats">Floats</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> fl = <span class="hljs-number">100.1</span>
<span class="hljs-keyword">let</span> fl = <span class="hljs-number">5.4</span>e4
</code></pre>
<p>See <code>:help Float</code></p>
<h3 id="arithmetic">Arithmetic</h3>

<pre><code class="vim"><span class="hljs-number">3</span> / <span class="hljs-number">2</span>     <span class="hljs-comment">&quot;=&gt; 1, integer division</span>
<span class="hljs-number">3</span> / <span class="hljs-number">2.0</span>   <span class="hljs-comment">&quot;=&gt; 1.5</span>
<span class="hljs-number">3</span> * <span class="hljs-number">2.0</span>   <span class="hljs-comment">&quot;=&gt; 6.0</span>
</code></pre>
<h3 id="math-functions">Math functions</h3>

<pre><code class="vim"><span class="hljs-built_in">sqrt</span>(<span class="hljs-number">100</span>)
<span class="hljs-built_in">floor</span>(<span class="hljs-number">3.5</span>)
<span class="hljs-built_in">ceil</span>(<span class="hljs-number">3.3</span>)
<span class="hljs-built_in">abs</span>(-<span class="hljs-number">3.4</span>)

<span class="hljs-built_in">sin</span>() <span class="hljs-built_in">cos</span>() <span class="hljs-built_in">tan</span>()
<span class="hljs-built_in">sinh</span>() <span class="hljs-built_in">cosh</span>() <span class="hljs-built_in">tanh</span>()
<span class="hljs-built_in">asin</span>() <span class="hljs-built_in">acos</span>() <span class="hljs-built_in">atan</span>()
</code></pre>
<h2 id="vim-isms">Vim-isms</h2>
<h3 id="execute-a-command">Execute a command</h3>

<pre><code class="vim"><span class="hljs-keyword">execute</span> <span class="hljs-string">&quot;vsplit&quot;</span>
<span class="hljs-keyword">execute</span> <span class="hljs-string">&quot;e &quot;</span> . <span class="hljs-built_in">fnameescape</span>(filename)
</code></pre>
<p>Runs an ex command you typically run with <code>:</code>. Also see <code>:help execute</code>.
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/28.html">Execute a command</a></p>
<h3 id="running-keystrokes">Running keystrokes</h3>

<pre><code class="vim"><span class="hljs-keyword">normal</span> G
normal! G   <span class="hljs-comment">&quot; skips key mappings</span>

<span class="hljs-keyword">execute</span> <span class="hljs-string">&quot;normal! gg/foo\&lt;cr&gt;dd&quot;</span>
</code></pre>
<p>Use <code>:normal</code> to execute keystrokes as if you&#39;re typing them in normal mode. Combine with <code>:execute</code> for special keystrokes.
See: <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/29.html">Running keystrokes</a></p>
<h3 id="getting-filenames">Getting filenames</h3>

<pre><code class="vim"><span class="hljs-keyword">echo</span> <span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;%&quot;</span>)      <span class="hljs-comment">&quot; path/file.txt</span>
<span class="hljs-keyword">echo</span> <span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;%:t&quot;</span>)    <span class="hljs-comment">&quot; file.txt</span>
<span class="hljs-keyword">echo</span> <span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;%:p:h&quot;</span>)  <span class="hljs-comment">&quot; /home/you/path/file.txt</span>
<span class="hljs-keyword">echo</span> <span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;%:r&quot;</span>)    <span class="hljs-comment">&quot; path/file</span>
<span class="hljs-keyword">echo</span> <span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;%:e&quot;</span>)    <span class="hljs-comment">&quot; txt</span>
</code></pre>
<p>See <code>:help expand</code></p>
<h3 id="silencing">Silencing</h3>

<pre><code class="vim"><span class="hljs-keyword">silent</span> g/Aap/<span class="hljs-keyword">p</span>
</code></pre>
<p>Suppresses output. See <code>:help silent</code></p>
<h3 id="echo">Echo</h3>

<pre><code class="vim"><span class="hljs-keyword">echoerr</span> <span class="hljs-string">&#x27;oh it failed&#x27;</span>
<span class="hljs-keyword">echomsg</span> <span class="hljs-string">&#x27;hello there&#x27;</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;hello&#x27;</span>

<span class="hljs-keyword">echohl</span> WarningMsg | <span class="hljs-keyword">echomsg</span> <span class="hljs-string">&quot;=&gt; &quot;</span> . <span class="hljs-variable">a:msg</span> | <span class="hljs-keyword">echohl</span> None
</code></pre>
<h3 id="settings">Settings</h3>

<pre><code class="vim"><span class="hljs-keyword">set</span> <span class="hljs-keyword">number</span>
<span class="hljs-keyword">set</span> nonumber
<span class="hljs-keyword">set</span> number!     <span class="hljs-comment">&quot; toggle</span>
<span class="hljs-keyword">set</span> numberwidth=<span class="hljs-number">5</span>
<span class="hljs-keyword">set</span> guioptions+=<span class="hljs-keyword">e</span>
</code></pre>
<h3 id="prompts">Prompts</h3>

<pre><code class="vim"><span class="hljs-keyword">let</span> result = <span class="hljs-keyword">confirm</span>(<span class="hljs-string">&quot;Sure?&quot;</span>)
<span class="hljs-keyword">execute</span> <span class="hljs-string">&quot;confirm q&quot;</span>
</code></pre>
<h3 id="built-ins">Built-ins</h3>

<pre><code class="vim"><span class="hljs-built_in">has</span>(<span class="hljs-string">&quot;feature&quot;</span>)  <span class="hljs-comment">&quot; :h feature-list</span>
<span class="hljs-built_in">executable</span>(<span class="hljs-string">&quot;python&quot;</span>)
<span class="hljs-built_in">globpath</span>(&amp;rtp, <span class="hljs-string">&quot;syntax/c.vim&quot;</span>)

<span class="hljs-built_in">exists</span>(<span class="hljs-string">&quot;$ENV&quot;</span>)
<span class="hljs-built_in">exists</span>(<span class="hljs-string">&quot;:command&quot;</span>)
<span class="hljs-built_in">exists</span>(<span class="hljs-string">&quot;variable&quot;</span>)
<span class="hljs-built_in">exists</span>(<span class="hljs-string">&quot;+option&quot;</span>)
<span class="hljs-built_in">exists</span>(<span class="hljs-string">&quot;g:...&quot;</span>)
</code></pre>
<h2 id="mapping">Mapping</h2>
<h3 id="mapping-commands">Mapping commands</h3>

<pre><code class="vim"><span class="hljs-keyword">nmap</span>
<span class="hljs-keyword">vmap</span>
<span class="hljs-keyword">imap</span>
<span class="hljs-keyword">xmap</span>
<span class="hljs-keyword">nnoremap</span>
<span class="hljs-keyword">vnoremap</span>
<span class="hljs-keyword">inoremap</span>
<span class="hljs-keyword">xnoremap</span>
...
</code></pre>
<h3 id="explanation">Explanation</h3>

<pre><code class="vim">[nvixso](nore)<span class="hljs-keyword">map</span>
</code></pre>

<pre><code> │       └ don<span class="hljs-comment">&#x27;t recurse</span>
 │
 └ normal, visual, insert,
   eX mode, <span class="hljs-keyword">select</span>, <span class="hljs-keyword">operator</span>-pending
</code></pre>
<h3 id="arguments">Arguments</h3>
<p>| <code>&lt;buffer&gt;</code> | only in current buffer |
| <code>&lt;silent&gt;</code> | no echo |
| <code>&lt;nowait&gt;</code> | |</p>
<h2 id="syntax">Syntax</h2>
<h3 id="highlights">Highlights</h3>

<pre><code class="vim"><span class="hljs-keyword">hi</span> Comment
  term=bold,underline
  <span class="hljs-keyword">gui</span>=bold
  ctermfg=<span class="hljs-number">4</span>
  guifg=#<span class="hljs-number">80</span>a0ff
</code></pre>
<h3 id="filetype-detection">Filetype detection</h3>

<pre><code class="vim"><span class="hljs-keyword">augroup</span> filetypedetect
  au! BufNewFile,BufRead *.json <span class="hljs-keyword">setf</span> javascript
<span class="hljs-keyword">augroup</span> END

<span class="hljs-keyword">au</span> Filetype markdown <span class="hljs-keyword">setlocal</span> spell
</code></pre>
<h3 id="conceal">Conceal</h3>

<pre><code class="vim"><span class="hljs-keyword">set</span> conceallevel=<span class="hljs-number">2</span>
syn <span class="hljs-keyword">match</span> newLine <span class="hljs-string">&quot;&lt;br&gt;&quot;</span> conceal cchar=}
<span class="hljs-keyword">hi</span> newLine guifg=green
</code></pre>
<h3 id="region-conceal">Region conceal</h3>

<pre><code class="vim">syn region inBold concealends matchgroup=bTag start=<span class="hljs-string">&quot;&lt;b&gt;&quot;</span> end=<span class="hljs-string">&quot;&lt;/b&gt;&quot;</span>
<span class="hljs-keyword">hi</span> inBold <span class="hljs-keyword">gui</span>=bold
<span class="hljs-keyword">hi</span> bTag guifg=blue
</code></pre>
<h3 id="syntax1">Syntax</h3>

<pre><code class="vim">syn <span class="hljs-keyword">match</span> :name <span class="hljs-string">&quot;:regex&quot;</span> :flags

syn region Comment  start=<span class="hljs-string">&quot;/\*&quot;</span>  end=<span class="hljs-string">&quot;\*/&quot;</span>
syn region String   start=+<span class="hljs-string">&quot;+    end=+&quot;</span>+     skip=+\\<span class="hljs-comment">&quot;+</span>

syn cluster :name contains=:n1,:n2,:n3...

flags:
  keepend
  oneline
  nextgroup=
  contains=
  contained

<span class="hljs-keyword">hi</span> def link markdownH1 htmlH1
</code></pre>
<h3 id="include-guards">Include guards</h3>

<pre><code class="vim"><span class="hljs-keyword">if</span> <span class="hljs-built_in">exists</span>(<span class="hljs-string">&#x27;g:loaded_myplugin&#x27;</span>)
  <span class="hljs-keyword">finish</span>
<span class="hljs-keyword">endif</span>

<span class="hljs-comment">&quot; ...</span>

<span class="hljs-keyword">let</span> <span class="hljs-variable">g:loaded_myplugin</span> = <span class="hljs-number">1</span>
</code></pre>

</div>
</body>  
</html>