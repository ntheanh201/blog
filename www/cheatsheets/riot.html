<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Riot.js cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Riot.js cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints/riot.md" >edit</a>
  </div>
  <div class="toc">
<a href="#tags">Tags</a><br>
<b>Expressions</b>: <a href="#loops">Loops</a>, <a href="#conditional">Conditional</a>, <a href="#events">Events</a><br>
<a href="#api">API</a><br>
<b>Nesting</b>: <a href="#names">Names</a><br>
<b>Nested HTML</b>: <a href="#yield-to-from">Yield to/from</a><br>
<a href="#router">Router</a><br>
<a href="#lifecycle">Lifecycle</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="tags">Tags</h2>

<pre><code class="js"><span class="hljs-comment">/* tag-name.tag */</span>
&lt;tag-name&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    hello {name}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = opts.<span class="hljs-property">name</span>
&lt;/tag-name&gt;
</code></pre>

<pre><code class="html"><span class="hljs-comment">&lt;!-- in html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">tag-name</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">riot.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;*&#x27;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">riot.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;tag-name&#x27;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">riot.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;tag-name&#x27;</span>, { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;my app&#x27;</span>, ... })</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 id="expressions">Expressions</h2>

<pre><code>{<span class="hljs-keyword">value</span>}
{<span class="hljs-keyword">value</span> || <span class="hljs-string">&#x27;its a js expression&#x27;</span>}

&lt;<span class="hljs-keyword">input</span> checked={<span class="hljs-keyword">null</span>}&gt;   <span class="hljs-comment">/* null values ignore the tag */</span>
&lt;p <span class="hljs-keyword">class</span>={ selected: <span class="hljs-keyword">true</span> }&gt;
</code></pre>
<h3 id="loops">Loops</h3>

<pre><code><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">each</span>=</span></span><span class="hljs-template-variable">{movies}</span><span class="language-xml"><span class="hljs-tag">&gt;</span></span><span class="hljs-template-variable">{title}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
</code></pre>
<h3 id="conditional">Conditional</h3>

<pre><code>&lt;div <span class="hljs-keyword">if</span>={<span class="hljs-keyword">error</span>}&gt;
&lt;div show={<span class="hljs-keyword">error</span>}&gt; <span class="hljs-comment">/* show using display: &#x27;&#x27; */</span>
&lt;div <span class="hljs-keyword">hide</span>={<span class="hljs-keyword">error</span>}&gt; <span class="hljs-comment">/* hide using display: none */</span>
</code></pre>
<h3 id="events">Events</h3>

<pre><code class="js">&lt;button onclick={go}&gt;

<span class="hljs-variable language_">this</span>.<span class="hljs-property">go</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) { ... }
</code></pre>
<h2 id="api">API</h2>

<pre><code class="js"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">update</span>()
<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">update</span>({ <span class="hljs-attr">data</span>: <span class="hljs-string">&#x27;hi&#x27;</span> }

<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unmount</span>()
<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unmount</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// keep parent tag</span>

riot.<span class="hljs-title function_">update</span>() <span class="hljs-comment">// update all</span>
</code></pre>
<h2 id="nesting">Nesting</h2>

<pre><code><span class="hljs-section">&lt;my-tag&gt;</span>
  <span class="hljs-section">&lt;child&gt;</span><span class="hljs-section">&lt;/child&gt;</span>
  <span class="hljs-attribute">var</span> child = this.tags.child
<span class="hljs-section">&lt;/my-tag&gt;</span>
</code></pre>
<h3 id="names">Names</h3>

<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">my-tag</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;xyz&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span>
  var child = this.tags.xyz
<span class="hljs-tag">&lt;/<span class="hljs-name">my-tag</span>&gt;</span>
</code></pre>
<h2 id="nested-html">Nested HTML</h2>

<pre><code class="js">&lt;<span class="hljs-keyword">yield</span>/&gt;
</code></pre>
<h3 id="yield-to-from">Yield to/from</h3>

<pre><code class="js">&lt;post&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">yield</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#x27;title&#x27;</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">yield</span>&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">yield</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#x27;body&#x27;</span>&gt;</span>Hey there world<span class="hljs-tag">&lt;/<span class="hljs-name">yield</span>&gt;</span></span>
&lt;/post&gt;
</code></pre>

<pre><code class="js">&lt;post&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">yield</span> <span class="hljs-attr">from</span>=<span class="hljs-string">&#x27;title&#x27;</span>/&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">yield</span> <span class="hljs-attr">from</span>=<span class="hljs-string">&#x27;body&#x27;</span>/&gt;</span></span>
&lt;/post&gt;
</code></pre>
<h2 id="router">Router</h2>

<pre><code class="js">riot.<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;customers/*/edit&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
})
riot.<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;customers/234/edit&#x27;</span>)
riot.<span class="hljs-property">route</span>.<span class="hljs-title function_">start</span>()
riot.<span class="hljs-property">route</span>.<span class="hljs-title function_">start</span>(<span class="hljs-literal">true</span>) <span class="hljs-comment">// exec the current url</span>
</code></pre>
<h2 id="lifecycle">Lifecycle</h2>

<pre><code class="js"><span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;before-mount&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
<span class="hljs-comment">// before the tag is mounted</span>
})

<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;mount&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
<span class="hljs-comment">// right after the tag is mounted on the page</span>
})

<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;update&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
<span class="hljs-comment">// allows recalculation of context data before the update</span>
})

<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;updated&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
<span class="hljs-comment">// right after the tag template is updated</span>
})

<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;before-unmount&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
<span class="hljs-comment">// before the tag is removed</span>
})

<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;unmount&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
<span class="hljs-comment">// when the tag is removed from the page</span>
})

<span class="hljs-comment">// curious about all events ?</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;all&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">eventName</span>) {
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(eventName)
})
</code></pre>

</div>
</body>  
</html>