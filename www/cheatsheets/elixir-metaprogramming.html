<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Elixir metaprogramming cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Elixir metaprogramming cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints/elixir-metaprogramming.md" >edit</a>
  </div>
  <div class="toc">
<b>Kernel</b>: <a href="#pseudo-variables">Pseudo-variables</a>, <a href="#-__env__-http-devdocs-io-elixir-elixir-kernel-specialforms-__env__-0-">__ENV__</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="kernel">Kernel</h2>
<p>Most of these magic is defined in <a href="http://devdocs.io/elixir/elixir/kernel.specialforms">Kernel.SpecialForms</a>.</p>
<h3 id="pseudo-variables">Pseudo-variables</h3>

<pre><code class="elixir">__DIR__     <span class="hljs-comment"># current dir</span>
__MODULE__  <span class="hljs-comment"># current module</span>
__CALLER__  <span class="hljs-comment"># caller of the function</span>
</code></pre>
<h3 id="-__env__-http-devdocs-io-elixir-elixir-kernel-specialforms-__env__-0-"><a href="http://devdocs.io/elixir/elixir/kernel.specialforms#__ENV__/0"><code>__ENV__</code></a></h3>

<pre><code class="elixir">Map.keys(__ENV__)
[<span class="hljs-symbol">:__struct__</span>, <span class="hljs-symbol">:aliases</span>, <span class="hljs-symbol">:context</span>, <span class="hljs-symbol">:context_modules</span>, <span class="hljs-symbol">:export_vars</span>, <span class="hljs-symbol">:file</span>,
 <span class="hljs-symbol">:function</span>, <span class="hljs-symbol">:functions</span>, <span class="hljs-symbol">:lexical_tracker</span>, <span class="hljs-symbol">:line</span>, <span class="hljs-symbol">:macro_aliases</span>, <span class="hljs-symbol">:macros</span>,
 <span class="hljs-symbol">:module</span>, <span class="hljs-symbol">:requires</span>, <span class="hljs-symbol">:vars</span>]
</code></pre>

<pre><code class="elixir">__CALLER__.module |&gt; Module.definitions_in |&gt; IO.inspect
</code></pre>

<pre><code class="elixir">apply(Enum, <span class="hljs-symbol">:reverse</span>, [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]])
</code></pre>

</div>
</body>  
</html>