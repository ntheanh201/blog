<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PSD.rb cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / PSD.rb cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\psdrb.md" >edit</a>
  </div>
  <div class="toc">
<b>Main</b>: <a href="#opening">Opening</a>, <a href="#traversing">Traversing</a>, <a href="#layer-info">Layer info</a>, <a href="#layer-text">Layer text</a>, <a href="#layer-effects">Layer effects</a>, <a href="#layer-mask">Layer mask</a>, <a href="#reference">Reference</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h3 id="opening">Opening</h3>

<pre><code class="ruby">psd = PSD.new(file, <span class="hljs-symbol">parse_layer_images:</span> <span class="hljs-literal">true</span>)
psd.parse!
</code></pre>
<h3 id="traversing">Traversing</h3>

<pre><code class="ruby"><span class="hljs-comment"># Gets the root node.</span>
<span class="hljs-comment"># A #&lt;Node&gt; can be a Group or a Layer.</span>
node = psd.tree
</code></pre>

<pre><code class="ruby">node.root
node.descendants
node.ancestors
node.siblings
node.subtree
</code></pre>

<pre><code class="ruby">node.descendant_groups
node.descendant_layers
</code></pre>
<h3 id="layer-info">Layer info</h3>

<pre><code class="ruby">node.name   <span class="hljs-comment">#=&gt; &quot;Layer 2&quot;</span>
</code></pre>

<pre><code class="ruby">node.top    <span class="hljs-comment">#=&gt; 3</span>
node.left   <span class="hljs-comment">#=&gt; 3</span>
node.bottom
node.right
</code></pre>

<pre><code class="ruby"><span class="hljs-comment"># Note: these are interchanged (?)</span>
node.width
node.height
</code></pre>

<pre><code class="ruby">node.visible?
node.hidden?
</code></pre>

<pre><code class="ruby">node.layer?
node.group?
</code></pre>

<pre><code class="ruby">node.blending_mode  <span class="hljs-comment">#=&gt; &quot;normal&quot;</span>
node.opacity        <span class="hljs-comment">#=&gt; 0..255</span>
node.fill_opacity   <span class="hljs-comment">#=&gt; 0..255</span>
</code></pre>
<h3 id="layer-text">Layer text</h3>

<pre><code class="ruby">node.text                  <span class="hljs-comment">#=&gt; (Hash)</span>
node.text[<span class="hljs-symbol">:value</span>]          <span class="hljs-comment">#=&gt; &quot;Text here&quot;</span>
node.text[<span class="hljs-symbol">:font</span>][<span class="hljs-symbol">:name</span>]    <span class="hljs-comment">#=&gt; &quot;Arial&quot;</span>
node.text[<span class="hljs-symbol">:font</span>][<span class="hljs-symbol">:sizes</span>]   <span class="hljs-comment">#=&gt; [6.9]</span>
node.text[<span class="hljs-symbol">:font</span>][<span class="hljs-symbol">:colors</span>]  <span class="hljs-comment">#=&gt; [[255,255,255,255]]</span>
node.text[<span class="hljs-symbol">:font</span>][<span class="hljs-symbol">:css</span>]     <span class="hljs-comment">#=&gt; &quot;font-family: ...;&quot;</span>
node.text[<span class="hljs-symbol">:left</span>]           <span class="hljs-comment">#=&gt; 3</span>
node.text[<span class="hljs-symbol">:top</span>]
node.text[<span class="hljs-symbol">:right</span>]
node.text[<span class="hljs-symbol">:bottom</span>]
node.text[<span class="hljs-symbol">:transform</span>]      <span class="hljs-comment">#=&gt; (Hash)</span>
</code></pre>
<h3 id="layer-effects">Layer effects</h3>

<pre><code class="ruby">fx = node.info[<span class="hljs-symbol">:object_effects</span>]
</code></pre>

<pre><code class="ruby">fx.data[<span class="hljs-string">&#x27;Scl &#x27;</span>]   <span class="hljs-comment"># ?</span>
fx.data[<span class="hljs-string">&#x27;GrFl&#x27;</span>]   <span class="hljs-comment"># Gradient fill</span>
</code></pre>
<h3 id="layer-mask">Layer mask</h3>

<pre><code class="ruby">node.mask[<span class="hljs-string">&quot;mask_size&quot;</span>] == <span class="hljs-number">0</span>    <span class="hljs-comment"># No mask</span>
node.mask[<span class="hljs-string">&quot;mask_size&quot;</span>] == <span class="hljs-number">20</span>   <span class="hljs-comment"># Has mask</span>
node.mask[<span class="hljs-string">&quot;top&quot;</span>]
node.mask[<span class="hljs-string">&quot;left&quot;</span>]
node.mask[<span class="hljs-string">&quot;bottom&quot;</span>]
node.mask[<span class="hljs-string">&quot;right&quot;</span>]
</code></pre>
<h3 id="reference">Reference</h3>

<ul>
<li><a href="https://github.com/layervault/psd.rb">layervault/psd.rb</a> <em>(github.com)</em></li>
</ul>

</div>
</body>  
</html>