<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Awesome Redux cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Awesome Redux cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\awesome-redux.md" >edit</a>
  </div>
  <div class="toc">
<b>Main</b>: <a href="#redux-actions">redux-actions</a>, <a href="#flux-standard-action">flux-standard-action</a>, <a href="#redux-multi">redux-multi</a>, <a href="#reduce-reducers">reduce-reducers</a>, <a href="#redux-logger">redux-logger</a><br>
<b>Async</b>: <a href="#redux-promise">redux-promise</a>, <a href="#redux-promises">redux-promises</a>, <a href="#redux-effects">redux-effects</a>, <a href="#redux-thunk">redux-thunk</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h3 id="redux-actions">redux-actions</h3>
<p>Create action creators in flux standard action format.</p>

<pre><code class="js">increment = <span class="hljs-title function_">createAction</span>(<span class="hljs-string">&#x27;INCREMENT&#x27;</span>, <span class="hljs-function"><span class="hljs-params">amount</span> =&gt;</span> amount)
increment = <span class="hljs-title function_">createAction</span>(<span class="hljs-string">&#x27;INCREMENT&#x27;</span>)  <span class="hljs-comment">// same</span>
</code></pre>

<pre><code class="js"><span class="hljs-title function_">increment</span>(<span class="hljs-number">42</span>) === { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT&#x27;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-number">42</span> }
</code></pre>

<pre><code class="js"><span class="hljs-comment">// Errors are handled for you:</span>
err = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>()
<span class="hljs-title function_">increment</span>(err) === { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT&#x27;</span>, <span class="hljs-attr">payload</span>: err, <span class="hljs-attr">error</span>: <span class="hljs-literal">true</span> }
</code></pre>
<p><a href="https://www.npmjs.com/package/redux-actions">redux-actions</a></p>
<h3 id="flux-standard-action">flux-standard-action</h3>
<p>A standard for flux action objects. An action may have an <code>error</code>, <code>payload</code> and <code>meta</code> and nothing else.</p>

<pre><code class="js">{ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;ADD_TODO&#x27;</span>, <span class="hljs-attr">payload</span>: { <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;Work it&#x27;</span> } }
{ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;ADD_TODO&#x27;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(), <span class="hljs-attr">error</span>: <span class="hljs-literal">true</span> }
</code></pre>
<p><a href="https://github.com/acdlite/flux-standard-action">flux-standard-action</a></p>
<h3 id="redux-multi">redux-multi</h3>
<p>Dispatch multiple actions in one action creator.</p>

<pre><code class="js">store.<span class="hljs-title function_">dispatch</span>([
  { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT&#x27;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-number">2</span> },
  { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT&#x27;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-number">3</span> }
])
</code></pre>
<p><a href="https://github.com/ashaffer/redux-multi">redux-multi</a></p>
<h3 id="reduce-reducers">reduce-reducers</h3>
<p>Combines reducers (like <em>combineReducers()</em>), but without namespacing magic.</p>

<pre><code class="js">re = <span class="hljs-title function_">reduceReducers</span>(
  <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.<span class="hljs-property">number</span>,
  <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> state + action.<span class="hljs-property">number</span>
)

<span class="hljs-title function_">re</span>(<span class="hljs-number">10</span>, { <span class="hljs-attr">number</span>: <span class="hljs-number">2</span> })  <span class="hljs-comment">//=&gt; 14</span>
</code></pre>
<p><a href="https://www.npmjs.com/package/reduce-reducers">reduce-reducers</a></p>
<h3 id="redux-logger">redux-logger</h3>
<p>Logs actions to your console.</p>

<pre><code class="js"><span class="hljs-comment">// Nothing to see here</span>
</code></pre>
<p><a href="https://github.com/evgenyrodionov/redux-logger">redux-logger</a></p>
<h2 id="async">Async</h2>
<h3 id="redux-promise">redux-promise</h3>
<p>Pass promises to actions. Dispatches a flux-standard-action.</p>

<pre><code class="js">increment = <span class="hljs-title function_">createAction</span>(<span class="hljs-string">&#x27;INCREMENT&#x27;</span>)  <span class="hljs-comment">// redux-actions</span>
<span class="hljs-title function_">increment</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">42</span>))
</code></pre>
<p><a href="https://github.com/acdlite/redux-promise">redux-promise</a></p>
<h3 id="redux-promises">redux-promises</h3>
<p>Sorta like that, too. Works by letting you pass <em>thunks</em> (functions) to <code>dispatch()</code>. Also has &#39;idle checking&#39;.</p>

<pre><code class="js">fetchData = <span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">dispatch</span>) =&gt;</span> {
  <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH_REQUEST&#x27;</span> })
  <span class="hljs-title function_">fetch</span>(url)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH_DONE&#x27;</span>, data })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH_ERROR&#x27;</span>, error })
})

store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">fetchData</span>(<span class="hljs-string">&#x27;/posts&#x27;</span>))
</code></pre>

<pre><code class="js"><span class="hljs-comment">// That&#x27;s actually shorthand for:</span>
<span class="hljs-title function_">fetchData</span>(<span class="hljs-string">&#x27;/posts&#x27;</span>)(store.<span class="hljs-property">dispatch</span>)
</code></pre>
<p><a href="https://www.npmjs.com/package/redux-promises">redux-promises</a></p>
<h3 id="redux-effects">redux-effects</h3>
<p>Pass side effects declaratively to keep your actions pure.</p>

<pre><code class="js">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;EFFECT_COMPOSE&#x27;</span>,
  <span class="hljs-attr">payload</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH&#x27;</span>
    <span class="hljs-attr">payload</span>: {<span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/some/thing&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>}
  },
  <span class="hljs-attr">meta</span>: {
    <span class="hljs-attr">steps</span>: [ [success, failure] ]
  }
}
</code></pre>
<p><a href="https://www.npmjs.com/package/redux-effects">redux-effects</a></p>
<h3 id="redux-thunk">redux-thunk</h3>
<p>Pass &quot;thunks&quot; to as actions. Extremely similar to redux-promises, but has support for getState.</p>

<pre><code class="js">fetchData = <span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">dispatch, getState</span>) =&gt;</span> {
  <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH_REQUEST&#x27;</span> })
  <span class="hljs-title function_">fetch</span>(url)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH_DONE&#x27;</span>, data })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;FETCH_ERROR&#x27;</span>, error })
})

store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">fetchData</span>(<span class="hljs-string">&#x27;/posts&#x27;</span>))
</code></pre>

<pre><code class="js"><span class="hljs-comment">// That&#x27;s actually shorthand for:</span>
<span class="hljs-title function_">fetchData</span>(<span class="hljs-string">&#x27;/posts&#x27;</span>)(store.<span class="hljs-property">dispatch</span>, store.<span class="hljs-property">getState</span>)
</code></pre>

<pre><code class="js"><span class="hljs-comment">// Optional: since fetchData returns a promise, it can be chained</span>
<span class="hljs-comment">// for server-side rendering</span>
store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">fetchPosts</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title class_">React</span>DOMServer.<span class="hljs-title function_">renderToString</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyApp</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span> /&gt;</span></span>)
})
</code></pre>
<p><a href="https://www.npmjs.com/package/redux-thunk">redux-thunk</a></p>

</div>
</body>  
</html>