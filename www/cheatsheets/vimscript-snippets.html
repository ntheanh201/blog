<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Vimscript snippets cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Vimscript snippets cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints/vimscript-snippets.md" >edit</a>
  </div>
  <div class="toc">
<b>Main</b>: <a href="#bind-function-to-key-and-command">Bind function to key and command</a>, <a href="#call-a-function-in-insert-mode">Call a function in insert mode</a>, <a href="#checking-plugins">Checking plugins</a><br>
<a href="#autoload">Autoload</a><br>
<b>Misc</b>: <a href="#version-check">Version check</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h3 id="bind-function-to-key-and-command">Bind function to key and command</h3>

<pre><code>command! YoFunctionHere <span class="hljs-keyword">call</span> <span class="hljs-variable">s:YoFunctionHere</span>()
<span class="hljs-keyword">nnoremap</span> <span class="hljs-symbol">&lt;silent&gt;</span> <span class="hljs-keyword">x</span> :<span class="hljs-keyword">call</span> <span class="hljs-symbol">&lt;SID&gt;</span>FunctionHere()<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-keyword">function!</span> <span class="hljs-title">s</span>:FunctionHere<span class="hljs-params">()</span>
<span class="hljs-keyword">endfunction</span>
</code></pre>
<h3 id="call-a-function-in-insert-mode">Call a function in insert mode</h3>

<pre><code><span class="hljs-keyword">inoremap</span> <span class="hljs-keyword">X</span> <span class="hljs-symbol">&lt;C-R&gt;</span>=script#myfunction()<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-keyword">inoremap</span> <span class="hljs-symbol">&lt;F2&gt;</span> <span class="hljs-symbol">&lt;C-R&gt;</span>=MyVimFunc()?<span class="hljs-string">&#x27;&#x27;</span>:<span class="hljs-string">&#x27;&#x27;</span><span class="hljs-symbol">&lt;CR&gt;</span>
</code></pre>
<h3 id="checking-plugins">Checking plugins</h3>

<pre><code><span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">globpath</span>(<span class="hljs-params">&amp;rtp, <span class="hljs-string">&quot;plugin/commentary.vim&quot;</span></span>) !</span>= <span class="hljs-string">&quot;&quot;</span>
</code></pre>
<h2 id="autoload">Autoload</h2>

<pre><code><span class="hljs-comment">&quot; autoload/hello.vim</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">exists</span>(<span class="hljs-string">&quot;g:hello_loaded&quot;</span>) | <span class="hljs-keyword">finish</span> | <span class="hljs-keyword">endif</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">g:hello_loaded</span>=<span class="hljs-number">1</span>

<span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>#method<span class="hljs-params">()</span>
<span class="hljs-keyword">endfunction</span>

<span class="hljs-comment">&quot; calling hello#method() will load only if autoload()</span>
</code></pre>
<h2 id="misc">Misc</h2>
<h3 id="version-check">Version check</h3>

<pre><code><span class="hljs-keyword">if</span> <span class="hljs-keyword">version</span> &lt; <span class="hljs-number">704</span>
  <span class="hljs-keyword">echom</span> <span class="hljs-string">&quot;requires vim &gt;= 7.4&quot;</span>
<span class="hljs-keyword">endif</span>
</code></pre>

</div>
</body>  
</html>