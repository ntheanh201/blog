<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Stencil cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Stencil cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\stencil.md" >edit</a>
  </div>
  <div class="toc">
<b>Quick-start guide</b>: <a href="#getting-started">Getting started</a>, <a href="#dom-events">DOM events</a>, <a href="#multiple-children">Multiple children</a><br>
<b>State</b>: <a href="#managing-state">Managing state</a>, <a href="#updating-arrays-and-objects">Updating arrays and objects</a><br>
<b>Slots</b>: <a href="#using-slot">Using slot</a>, <a href="#multiple-slots">Multiple slots</a><br>
<b>Lifecycle</b>: <a href="#lifecycle-hooks">Lifecycle hooks</a>, <a href="#example">Example</a><br>
<a href="#references">References</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="quick-start-guide">Quick-start guide</h2>
<h3 id="getting-started">Getting started</h3>
<h4 id="javascript">JavaScript</h4>

<pre><code class="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, <span class="hljs-title class_">Prop</span>, <span class="hljs-title class_">State</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@stencil/core&#x27;</span>

@<span class="hljs-title class_">Component</span>({
  <span class="hljs-attr">tag</span>: <span class="hljs-string">&#x27;my-component&#x27;</span>,
  <span class="hljs-attr">styleUrl</span>: <span class="hljs-string">&#x27;my-component.scss&#x27;</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> {
  @<span class="hljs-title class_">Prop</span>() <span class="hljs-attr">name</span>: string
  @<span class="hljs-title class_">State</span>() <span class="hljs-attr">isVisible</span>: boolean = <span class="hljs-literal">true</span>

  render () {
    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>I am {this.name}!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
    )
  }
}
</code></pre>
<h4 id="html">HTML</h4>

<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;Groot&#x27;</span> /&gt;</span>
</code></pre>
<p>That&#39;s the same example in the <a href="https://github.com/ionic-team/stencil">Readme</a>, that&#39;s as simple as you can get! Just use <code>&lt;my-component&gt;</code> like you would use any other HTML tag.</p>
<h3 id="dom-events">DOM events</h3>

<pre><code class="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> {
  render () {
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(event:</span> <span class="hljs-attr">UIEvent</span>) =&gt;</span> this.inputChanged(event)}
      /&gt;</span>
    )
  }

  inputChanged (event) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;input changed:&#x27;</span>, event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>)
  }
}
</code></pre>
<p>Stencil uses DOM events.</p>
<p>See: <a href="https://stenciljs.com/docs/templating/#handling-user-input">Handling user input</a></p>
<h3 id="multiple-children">Multiple children</h3>

<pre><code class="js">render () {
  <span class="hljs-keyword">return</span> [
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello there<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>,
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This component returns multiple nodes<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
  ]
}
</code></pre>
<p><code>render()</code> can return an array of elements.</p>
<p>See: <a href="https://stenciljs.com/docs/templating#complex-template-content">Complex template content</a></p>
<h2 id="state">State</h2>
<h3 id="managing-state">Managing state</h3>

<pre><code class="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> {
  @<span class="hljs-title class_">State</span>() <span class="hljs-attr">isVisible</span>: boolean

  show () {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isVisible</span> = <span class="hljs-literal">true</span>
  }
}
</code></pre>
<p>Just do assignments. You can&#39;t do mutations though, see next section.</p>
<p>See: <a href="https://stenciljs.com/docs/decorators#managing-component-state">Managing component state</a></p>
<h3 id="updating-arrays-and-objects">Updating arrays and objects</h3>
<h4 id="-bad">✗ Bad</h4>

<pre><code class="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">names</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;Larry&#x27;</span>)  <span class="hljs-comment">// ⚠️</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">show</span> = <span class="hljs-literal">true</span>  <span class="hljs-comment">// ⚠️</span>
</code></pre>
<h4 id="-ok">✓ OK</h4>

<pre><code class="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">names</span> = [ ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">names</span>, <span class="hljs-string">&#x27;Larry&#x27;</span> ]
<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>, <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span> }
</code></pre>
<p>Mutable operations such as <code>push()</code> won&#39;t work. You&#39;ll need to assign a new copy.</p>
<p>See: <a href="https://stenciljs.com/docs/reactive-data/#updating-arrays">Updating arrays</a></p>
<h2 id="slots">Slots</h2>
<h3 id="using-slot">Using slot</h3>

<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello, friends<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span>
</code></pre>
<h4 id="component">Component</h4>

<pre><code class="js"><span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
}
</code></pre>
<p>You can pass JSX/HTML as child elements. Use the <code>slot</code> tag to use them inside your component.</p>
<p>See: <a href="https://stenciljs.com/docs/templating#slots">Slots</a></p>
<h3 id="multiple-slots">Multiple slots</h3>

<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&#x27;my-header&#x27;</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&#x27;my-footer&#x27;</span>&gt;</span>Thanks<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span>
</code></pre>
<h4 id="component1">Component</h4>

<pre><code class="js">render () {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;my-header&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#x27;my-footer&#x27;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<p>See: <a href="https://stenciljs.com/docs/templating#slots">Slots</a></p>
<h2 id="lifecycle">Lifecycle</h2>
<h3 id="lifecycle-hooks">Lifecycle hooks</h3>

<table>
<thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>componentWillLoad()</code></td>
<td>Before rendering</td>
</tr>
<tr>
<td><code>componentDidLoad()</code></td>
<td>After rendering</td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td><code>componentWillUpdate()</code></td>
<td>Before updating</td>
</tr>
<tr>
<td><code>componentDidUpdate()</code></td>
<td>After updating</td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td><code>componentDidUnload()</code></td>
<td>After unmounting</td>
</tr>
</tbody>
</table>
<p>See: <a href="https://stenciljs.com/docs/component-lifecycle">Component lifecycle</a></p>
<h3 id="example">Example</h3>

<pre><code class="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> {
  componentWillUpdate () {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;updating&#x27;</span>)
  }
}
</code></pre>
<h2 id="references">References</h2>

<ul>
<li><a href="https://stenciljs.com/docs/">Stencil docs</a> <em>(stenciljs.com)</em></li>
</ul>

</div>
</body>  
</html>