<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Form helpers cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Form helpers cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\rails-forms.md" >edit</a>
  </div>
  <div class="toc">
<b>Form builder</b>: <a href="#options">Options</a><br>
<b>Fields</b>: <a href="#text">Text</a>, <a href="#checkbox">Checkbox</a>, <a href="#radio">Radio</a>, <a href="#label">Label</a>, <a href="#submit-button">Submit button</a>, <a href="#hidden-fields">Hidden fields</a><br>
<b>Misc</b>: <a href="#the-model">The model</a>, <a href="#fields-for">Fields for</a>, <a href="#select-dropdowns">Select dropdowns</a>, <a href="#collections">Collections</a>, <a href="#time-select">Time select</a>, <a href="#i18n">I18n</a>, <a href="#outside-f-">Outside f</a>, <a href="#reference">Reference</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="form-builder">Form builder</h2>

<pre><code class="haml">-<span class="language-ruby"> form_for <span class="hljs-variable">@post</span> <span class="hljs-keyword">do</span> <span class="hljs-params">|f|</span></span>
</code></pre>
<p>Field names will be prefixed with <code>post</code> (the class name), and values will be derived from this object (eg, <code>f.text_field :name</code> from <code>@post.name</code>).</p>
<h3 id="options">Options</h3>

<pre><code class="haml">-<span class="language-ruby"> form_for <span class="hljs-variable">@post</span>, <span class="hljs-params">|</span></span>
  url: { method: &#x27;put&#x27;, action: &#x27;create&#x27; }, |
  html: { class: &#x27;nifty_form&#x27; } |
  do |f|
</code></pre>
<h2 id="fields">Fields</h2>
<h3 id="text">Text</h3>

<pre><code class="rb">f.text_field <span class="hljs-symbol">:title</span>
f.text_area <span class="hljs-symbol">:body</span>, <span class="hljs-symbol">size:</span> <span class="hljs-string">&#x27;60x12&#x27;</span>
</code></pre>
<h3 id="checkbox">Checkbox</h3>

<pre><code class="rb">f.check_box <span class="hljs-symbol">:remember_me</span>
f.label <span class="hljs-symbol">:remember_me</span>, <span class="hljs-string">&quot;Remember me&quot;</span>
</code></pre>
<h3 id="radio">Radio</h3>

<pre><code class="rb">f.radio_button <span class="hljs-symbol">:gender</span>, <span class="hljs-string">&#x27;male&#x27;</span>
f.label <span class="hljs-symbol">:gender_male</span>, <span class="hljs-string">&quot;Male&quot;</span>

f.radio_button <span class="hljs-symbol">:gender</span>, <span class="hljs-string">&#x27;female&#x27;</span>
f.label <span class="hljs-symbol">:gender_female</span>, <span class="hljs-string">&quot;Female&quot;</span>
</code></pre>
<h3 id="label">Label</h3>

<pre><code class="rb">f.label <span class="hljs-symbol">:title</span>
f.label <span class="hljs-symbol">:title</span>, <span class="hljs-string">&quot;Title&quot;</span>
f.label <span class="hljs-symbol">:title</span>, <span class="hljs-string">&quot;Title&quot;</span>, <span class="hljs-class"><span class="hljs-keyword">class</span>: &quot;<span class="hljs-title">title</span>&quot;</span>
f.label(<span class="hljs-symbol">:post</span>, <span class="hljs-symbol">:terms</span>) { <span class="hljs-string">&quot;Accept terms&quot;</span> }
</code></pre>
<h3 id="submit-button">Submit button</h3>

<pre><code class="rb">f.submit <span class="hljs-string">&quot;Create&quot;</span>
</code></pre>
<h3 id="hidden-fields">Hidden fields</h3>

<pre><code class="rb">f.hidden_field <span class="hljs-symbol">:id</span>
</code></pre>
<h2 id="misc">Misc</h2>
<h3 id="the-model">The model</h3>

<pre><code class="ruby">f.object
</code></pre>
<h3 id="fields-for">Fields for</h3>

<pre><code class="haml">=<span class="language-ruby"> form_for <span class="hljs-variable">@post</span> <span class="hljs-keyword">do</span> <span class="hljs-params">|f|</span></span>
  =<span class="language-ruby"> fields_for <span class="hljs-symbol">:author</span>, <span class="hljs-variable">@post</span>.author <span class="hljs-keyword">do</span> <span class="hljs-params">|ff|</span></span>
    =<span class="language-ruby"> ff.text_field <span class="hljs-symbol">:name</span></span>
</code></pre>
<h3 id="select-dropdowns">Select dropdowns</h3>

<pre><code class="rb">f.select <span class="hljs-symbol">:city_id</span>, [[<span class="hljs-string">&#x27;Lisbon&#x27;</span>,<span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;Madrid&#x27;</span>,<span class="hljs-number">2</span>], ...], <span class="hljs-number">4</span>
<span class="hljs-comment"># (4 = selected)</span>

options_for_select [[<span class="hljs-string">&#x27;Lisbon&#x27;</span>,<span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;Madrid&#x27;</span>,<span class="hljs-number">2</span>], ...], <span class="hljs-number">4</span>
<span class="hljs-comment"># Just makes &lt;option&gt; tags</span>
</code></pre>
<h3 id="collections">Collections</h3>

<pre><code>f.collection_radio_buttons <span class="hljs-symbol">:author_id</span>, Author.all, <span class="hljs-symbol">:id</span>, <span class="hljs-symbol">:name_with_initial</span>
f.collection_select <span class="hljs-symbol">:city_id</span>, City.all, <span class="hljs-symbol">:id</span>, <span class="hljs-symbol">:name</span>
<span class="hljs-comment"># (field, collection, value_key, label_key)</span>
</code></pre>
<h3 id="time-select">Time select</h3>

<pre><code class="rb">f.time_zone_select <span class="hljs-symbol">:time_zone</span>
f.date_select <span class="hljs-symbol">:birthday</span>
</code></pre>
<h3 id="i18n">I18n</h3>

<pre><code class="yaml"><span class="hljs-attr">helpers:</span>
  <span class="hljs-attr">submit:</span>
    <span class="hljs-comment"># helpers.submit.&lt;action&gt;</span>
    <span class="hljs-attr">create:</span> <span class="hljs-string">&quot;Create a <span class="hljs-template-variable">%{model}</span>&quot;</span>
    <span class="hljs-attr">update:</span> <span class="hljs-string">&quot;Confirm changes to <span class="hljs-template-variable">%{model}</span>&quot;</span>

    <span class="hljs-comment"># helpers.submit.&lt;model&gt;.&lt;action&gt;</span>
    <span class="hljs-attr">article:</span>
      <span class="hljs-attr">create:</span> <span class="hljs-string">&quot;Publish article&quot;</span>
      <span class="hljs-attr">update:</span> <span class="hljs-string">&quot;Update article&quot;</span>

  <span class="hljs-comment"># helpers.label.&lt;model&gt;.&lt;field&gt;</span>
  <span class="hljs-attr">label:</span>
    <span class="hljs-attr">post:</span>
      <span class="hljs-attr">body:</span> <span class="hljs-string">&quot;Your body text&quot;</span>
</code></pre>
<h3 id="outside-f-">Outside <code>f</code></h3>

<pre><code class="rb">radio_button(<span class="hljs-string">&quot;post&quot;</span>, <span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-string">&quot;rails&quot;</span>)
radio_button(<span class="hljs-string">&quot;post&quot;</span>, <span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-string">&quot;java&quot;</span>)

<span class="hljs-comment"># picks from <span class="hljs-doctag">@post</span>.category</span>
<span class="hljs-comment"># &lt;input type=&quot;radio&quot; id=&quot;post_category_rails&quot; name=&quot;post[category]&quot;</span>
<span class="hljs-comment">#  value=&quot;rails&quot; checked=&quot;checked&quot; /&gt;</span>
</code></pre>
<h3 id="reference">Reference</h3>

<pre><code class="rb">select(method, choices = <span class="hljs-literal">nil</span>, options = {}, html_options = {}, &amp;block)
  choices == [ [<span class="hljs-string">&#x27;label&#x27;</span>, id], ... ]

submit(value=<span class="hljs-literal">nil</span>, options={})
</code></pre>

</div>
</body>  
</html>