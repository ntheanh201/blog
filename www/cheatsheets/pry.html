<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Pry cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Pry cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\pry.md" >edit</a>
  </div>
  <div class="toc">
<b>Main</b>: <a href="#cd">cd</a>, <a href="#code">Code</a>, <a href="#docs">Docs</a>, <a href="#finding">Finding</a>, <a href="#editing">Editing</a>, <a href="#gems">Gems</a>, <a href="#misc-commands">Misc commands</a><br>
<b>Rails</b>: <a href="#rails-console">Rails console</a>, <a href="#rails">Rails</a>, <a href="#ls">ls</a><br>
<a href="#shell-integration">Shell integration</a><br>
<a href="#hirb">hirb</a><br>
<a href="#pry-rescue">pry-rescue</a><br>
<a href="#pry-remote">pry-remote</a><br>
<a href="#reference">Reference</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h3 id="cd">cd</h3>

<pre><code><span class="hljs-meta">&gt;</span> <span class="language-javascript">cd <span class="hljs-title class_">Array</span></span>
</code></pre>

<pre><code class="nohighlight">&gt; ls
  <span class="hljs-built_in">Array</span>.methods: [] try_convert
  <span class="hljs-built_in">Array</span><span class="hljs-comment">#methods: &amp; * + abbrev assoc at ...</span>
</code></pre>

<pre><code><span class="hljs-meta">&gt;</span> <span class="language-javascript">show-source</span>
</code></pre>
<h3 id="code">Code</h3>

<pre><code class="nohighlight">&gt; show-<span class="hljs-function"><span class="hljs-keyword">method</span> <span class="hljs-title">Array</span>#<span class="hljs-title">select</span></span>
</code></pre>
<h3 id="docs">Docs</h3>

<pre><code class="nohighlight"><span class="hljs-meta">&gt;</span> <span class="language-javascript">ri <span class="hljs-title class_">Array</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">ri <span class="hljs-title class_">Array</span>#each</span>

<span class="hljs-meta">&gt;</span> <span class="language-javascript">cd <span class="hljs-title class_">Gem</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">show-doc try_activate</span>
</code></pre>
<h3 id="finding">Finding</h3>

<pre><code class="nohighlight">&gt; find-<span class="hljs-function"><span class="hljs-keyword">method</span> <span class="hljs-title">each</span>
  <span class="hljs-title">Array</span>#<span class="hljs-title">each</span>
  <span class="hljs-title">Array</span>#<span class="hljs-title">each_index</span>
  <span class="hljs-title">Enumerable</span>#<span class="hljs-title">each_slice</span>
  ...</span>
</code></pre>
<h3 id="editing">Editing</h3>

<pre><code>&gt; <span class="hljs-keyword">edit</span> Pry<span class="hljs-meta">#repl</span>
</code></pre>
<h3 id="gems">Gems</h3>

<pre><code><span class="hljs-meta">&gt;</span> <span class="language-javascript">gem-cd foo      # <span class="hljs-title class_">Switch</span> to gem<span class="hljs-string">&#x27;s dir</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript"><span class="hljs-string">gem-install foo</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript"><span class="hljs-string">gem-list</span></span>
</code></pre>
<h3 id="misc-commands">Misc commands</h3>

<pre><code><span class="hljs-meta">&gt;</span> <span class="language-javascript">hist          # <span class="hljs-title class_">History</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">wtf?          # <span class="hljs-title class_">Trace</span> <span class="hljs-keyword">of</span> recent exception</span>
</code></pre>
<h2 id="rails">Rails</h2>
<h3 id="rails-console">Rails console</h3>
<p>Also consider <a href="https://rubygems.org/gems/pry-rails">pry-rails</a>.</p>

<pre><code>$ pry -r .<span class="hljs-regexp">/config/</span>environment
</code></pre>
<h3 id="rails">Rails</h3>

<pre><code><span class="hljs-meta">&gt;</span> <span class="language-javascript">show-models</span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">show-routes</span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">show-middleware</span>
</code></pre>
<h3 id="ls">ls</h3>

<pre><code><span class="hljs-meta">&gt;</span> <span class="language-javascript">ls         # <span class="hljs-title class_">All</span></span>

<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -m      # <span class="hljs-title class_">Methods</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -M      # <span class="hljs-title class_">Instance</span> methods</span>

<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -g      # <span class="hljs-title class_">Globals</span></span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -l      # <span class="hljs-title class_">Local</span> vars</span>
<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -c      # <span class="hljs-title class_">Constants</span></span>

<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -i      # <span class="hljs-title class_">Instance</span> vars</span>

<span class="hljs-meta">&gt;</span> <span class="language-javascript">ls -G xx   # <span class="hljs-title class_">Grey</span> by regex</span>
</code></pre>
<h2 id="shell-integration">Shell integration</h2>
<p>shell-mode adds dir to the prompt.</p>

<pre><code><span class="hljs-function"><span class="hljs-title">pry</span><span class="hljs-params">(main)</span></span>&gt; shell-mode
<span class="hljs-function"><span class="hljs-title">pry</span><span class="hljs-params">(main)</span></span>:/home/x $
</code></pre>
<p>Commands with <code>.</code> are shell commands.</p>

<pre><code><span class="hljs-function"><span class="hljs-title">pry</span><span class="hljs-params">(main)</span></span>&gt; <span class="hljs-selector-class">.cat</span> hello.txt
</code></pre>
<h2 id="hirb">hirb</h2>
<p>Add the <a href="https://rubygems.org/gems/hirb">hirb</a> gem.</p>

<pre><code>&gt; <span class="hljs-keyword">table</span> <span class="hljs-keyword">User</span>.<span class="hljs-keyword">all</span>
&gt; <span class="hljs-keyword">view</span> <span class="hljs-keyword">User</span>.<span class="hljs-keyword">all</span>
&gt; <span class="hljs-keyword">view</span> <span class="hljs-keyword">User</span>.<span class="hljs-keyword">all</span>, fields: %w[id <span class="hljs-type">name</span> email]
</code></pre>
<h2 id="pry-rescue">pry-rescue</h2>
<p>Add the <a href="https://github.com/ConradIrwin/pry-rescue">pry-rescue</a> gem.</p>

<pre><code class="rb">Pry::<span class="hljs-keyword">rescue</span> {
  <span class="hljs-comment"># raise exceptions here</span>
}
</code></pre>
<p>Or run:</p>

<pre><code>bundle <span class="hljs-built_in">exec</span> rescue rspec
</code></pre>
<p>Additional commands:</p>

<pre><code><span class="hljs-function"><span class="hljs-title">pry</span><span class="hljs-params">(main)</span></span>&gt; cd-cause
<span class="hljs-function"><span class="hljs-title">pry</span><span class="hljs-params">(main)</span></span>&gt; try-again
</code></pre>
<h2 id="pry-remote">pry-remote</h2>
<p>Add the <a href="https://github.com/Mon-Ouie/pry-remote">pry-remote</a> gem.</p>

<pre><code class="rb"><span class="hljs-comment"># In your code:</span>
binding.remote_pry

<span class="hljs-comment"># In the shell:</span>
bundle exec pry-remote
</code></pre>
<h2 id="reference">Reference</h2>

<ul>
<li><a href="https://github.com/pry/pry">Pry</a></li>
<li><a href="https://github.com/cldwalker/hirb">Hirb</a></li>
</ul>

</div>
</body>  
</html>