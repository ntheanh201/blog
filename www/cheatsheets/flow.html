<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Flow cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Flow cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\flow.md" >edit</a>
  </div>
  <div class="toc">
<b>Getting started</b>: <a href="#simple-example">Simple example</a>, <a href="#type-inference">Type inference</a>, <a href="#type-aliases">Type aliases</a>, <a href="#variables">Variables</a>, <a href="#importing-and-exporting">Importing and exporting</a>, <a href="#union-types">Union types</a><br>
<b>Optionals</b>: <a href="#maybe-types">Maybe types</a>, <a href="#optional-properties">Optional properties</a><br>
<b>Objects</b>: <a href="#width-subtyping">Width subtyping</a>, <a href="#exact-object-types">Exact object types</a>, <a href="#dynamic-keys">Dynamic keys</a><br>
<b>Advanced features</b>: <a href="#primitives">Primitives</a>, <a href="#enums">Enums</a>, <a href="#type-aliases1">Type aliases</a>, <a href="#generic-classes">Generic classes</a>, <a href="#interfaces">Interfaces</a>, <a href="#functions">Functions</a>, <a href="#imports">Imports</a>, <a href="#comment-syntax">Comment syntax</a>, <a href="#react">React</a><br>
<b>Examples</b>: <a href="#examples1">Examples</a>, <a href="#function-signature">Function signature</a><br>
<a href="#references">References</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="getting-started">Getting started</h2>
<h3 id="simple-example">Simple example</h3>

<pre><code class="js"><span class="hljs-comment">/* @flow */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">square</span> (<span class="hljs-attr">n</span>: number) {
  <span class="hljs-keyword">return</span> n * n
}

<span class="hljs-keyword">const</span> four = <span class="hljs-title function_">square</span>(<span class="hljs-number">2</span>)
</code></pre>
<p>Most of what you need to do is to simply add annotations to function arguments!</p>
<p>See: <a href="https://flow.org/en/docs/">flow.org docs</a></p>
<h3 id="type-inference">Type inference</h3>

<pre><code class="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">square</span> (<span class="hljs-attr">n</span>: number) {
  <span class="hljs-keyword">const</span> result = n * n
}
</code></pre>
<p><code>result</code> is inferred to be a number because <code>number * number</code> will result in a number. There&#39;s no need to give it annotations.</p>
<h3 id="type-aliases">Type aliases</h3>

<pre><code class="js">type <span class="hljs-title class_">Person</span> = {
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">age</span>: number,
  <span class="hljs-attr">isAdmin</span>: boolean,
  <span class="hljs-attr">likes</span>: <span class="hljs-title class_">Array</span>&lt;string&gt;
}
</code></pre>

<pre><code class="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">user: Person</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;hello&#x27;</span>, user.<span class="hljs-property">name</span>)
}
</code></pre>

<pre><code class="js"><span class="hljs-title function_">greet</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Miles Davis&#x27;</span>, ··· })
</code></pre>
<p>This is the typical way to define the shape of complex objects.</p>
<h3 id="variables">Variables</h3>

<pre><code class="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">count</span>: number = <span class="hljs-number">200</span>
</code></pre>
<p>You typically don&#39;t need to do this, function args are often enough.</p>
<p>See: <a href="https://flow.org/en/docs/types/variables/">Variable types</a></p>
<h3 id="importing-and-exporting">Importing and exporting</h3>

<pre><code class="js"><span class="hljs-keyword">import</span> type { <span class="hljs-title class_">Person</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./types&#x27;</span>
</code></pre>

<pre><code class="js"><span class="hljs-keyword">export</span> type <span class="hljs-title class_">Person</span> = {
  ···
}
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/modules">Module types</a></p>
<h3 id="union-types">Union types</h3>

<pre><code class="js">type <span class="hljs-title class_">Action</span> = number | string
</code></pre>

<pre><code class="js">type <span class="hljs-title class_">Direction</span> = <span class="hljs-string">&#x27;left&#x27;</span> | <span class="hljs-string">&#x27;right&#x27;</span>
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/unions/">Unions</a></p>
<h2 id="optionals">Optionals</h2>
<h3 id="maybe-types">Maybe types</h3>

<pre><code class="js">type <span class="hljs-title class_">Album</span> = {
  <span class="hljs-attr">name</span>: ?string
}
</code></pre>

<pre><code class="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Album</span> = { }                 <span class="hljs-comment">// ✗ Error</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Album</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Blue&#x27;</span> }    <span class="hljs-comment">// ✓ OK</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Album</span> = { <span class="hljs-attr">name</span>: <span class="hljs-literal">null</span> }      <span class="hljs-comment">// ✓ OK</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Album</span> = { <span class="hljs-attr">name</span>: <span class="hljs-literal">undefined</span> } <span class="hljs-comment">// ✓ OK</span>
</code></pre>
<p>This makes <code>name</code> either a string or null.</p>
<p>See: <a href="https://flow.org/en/docs/types/primitives/#toc-maybe-types">Maybe types</a></p>
<h3 id="optional-properties">Optional properties</h3>

<pre><code class="js">type <span class="hljs-title class_">Album</span> = {
  name?: string
}
</code></pre>

<pre><code class="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Album</span> = { } <span class="hljs-comment">// ✓ OK</span>
a.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;Blue&#x27;</span>      <span class="hljs-comment">// ✓ OK</span>
a.<span class="hljs-property">name</span> = <span class="hljs-literal">null</span>        <span class="hljs-comment">// ✗ Error</span>
a.<span class="hljs-property">name</span> = <span class="hljs-literal">undefined</span>   <span class="hljs-comment">// ✓ OK</span>
</code></pre>
<p>This makes an <code>Album</code> valid even if <code>name</code> is not part of the keys. This is different from &quot;maybe&quot; types.</p>
<p>See: <a href="https://flow.org/en/docs/types/primitives/#toc-optional-object-properties">Optional properties</a></p>
<h2 id="objects">Objects</h2>
<h3 id="width-subtyping">Width subtyping</h3>

<pre><code class="js">type <span class="hljs-title class_">Artist</span> = {
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">label</span>: string
}
</code></pre>

<pre><code class="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Artist</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Miguel Migs&#x27;</span>,
  <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Naked Music&#x27;</span>,
  <span class="hljs-attr">genre</span>: <span class="hljs-string">&#x27;House&#x27;</span> <span class="hljs-comment">// ✓ OK</span>
}
</code></pre>
<p>A type with more properties is &quot;wider&quot; and is a subtype of a &quot;narrower&quot; type.</p>
<p>See: <a href="https://flow.org/en/docs/lang/width-subtyping/">Width subtyping</a></p>
<h3 id="exact-object-types">Exact object types</h3>

<pre><code class="js">type <span class="hljs-title class_">Artist</span> = {|
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">label</span>: string
|}
</code></pre>

<pre><code class="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Artist</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Miguel Migs&#x27;</span>,
  <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Naked Music&#x27;</span>,
  <span class="hljs-attr">genre</span>: <span class="hljs-string">&#x27;House&#x27;</span> <span class="hljs-comment">// ✗ Error</span>
}
</code></pre>
<p>Exact object types prevent extra properties from being added to an object.</p>
<p>See: <a href="https://flow.org/en/docs/types/objects/#toc-exact-object-types">Exact object types</a></p>
<h3 id="dynamic-keys">Dynamic keys</h3>

<pre><code class="js">type <span class="hljs-title class_">Items</span> = {
  [<span class="hljs-attr">key</span>: string]: <span class="hljs-title class_">Item</span>
}
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/objects/#toc-objects-as-maps">Dynamic object keys</a></p>
<h2 id="advanced-features">Advanced features</h2>
<h3 id="primitives">Primitives</h3>

<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>any</code></td>
<td></td>
</tr>
<tr>
<td><code>boolean</code></td>
<td></td>
</tr>
<tr>
<td><code>mixed</code></td>
<td></td>
</tr>
<tr>
<td><code>number</code></td>
<td></td>
</tr>
<tr>
<td><code>string</code></td>
<td></td>
</tr>
<tr>
<td><code>void</code></td>
<td>undefined</td>
</tr>
<tr>
<td><code>null</code></td>
<td>null (but not undefined)</td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td><code>{a: Number}</code></td>
<td>Object with a shape</td>
</tr>
<tr>
<td><code>[any, number]</code></td>
<td>Tuples (fixed-length arrays)</td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td><code>Array&lt;T&gt;</code></td>
<td></td>
</tr>
<tr>
<td><code>Class&lt;T&gt;</code></td>
<td></td>
</tr>
<tr>
<td><code>Function</code></td>
<td></td>
</tr>
<tr>
<td><code>Object</code></td>
<td></td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td><code>?number</code></td>
<td>Maybe (number, void, null)</td>
</tr>
<tr>
<td>`a</td>
<td>b`</td>
<td>Union types</td>
</tr>
</tbody>
</table>
<h3 id="enums">Enums</h3>

<pre><code class="js">type <span class="hljs-title class_">Suit</span> = <span class="hljs-string">&quot;Diamonds&quot;</span> | <span class="hljs-string">&quot;Clubs&quot;</span> | <span class="hljs-string">&quot;Hearts&quot;</span> | <span class="hljs-string">&quot;Spades&quot;</span>

<span class="hljs-keyword">const</span> countries = {
  <span class="hljs-attr">US</span>: <span class="hljs-string">&quot;United States&quot;</span>,
  <span class="hljs-attr">IT</span>: <span class="hljs-string">&quot;Italy&quot;</span>,
  <span class="hljs-attr">FR</span>: <span class="hljs-string">&quot;France&quot;</span>
}

type <span class="hljs-title class_">Country</span> = $Keys&lt;<span class="hljs-keyword">typeof</span> countries&gt;
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/utilities/#toc-keys">Enums</a></p>
<h3 id="type-aliases1">Type aliases</h3>

<pre><code class="js">type <span class="hljs-title class_">Tree</span> = {
  <span class="hljs-attr">foo</span>: string,
  <span class="hljs-attr">bar</span>: number,
  <span class="hljs-attr">qux</span>: <span class="hljs-function">(<span class="hljs-params">foo: string, bar: number</span>) =&gt;</span> boolean
}

type <span class="hljs-title class_">Generic</span>&lt;T&gt; = {
  <span class="hljs-attr">foo</span>: T
}
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/aliases/">Type aliases</a></p>
<h3 id="generic-classes">Generic classes</h3>

<pre><code class="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericClass</span>&lt;T&gt; {
  <span class="hljs-attr">x</span>: T
  <span class="hljs-title function_">constructor</span> (<span class="hljs-attr">x</span>: T) { ... }
}

<span class="hljs-keyword">var</span> <span class="hljs-attr">n</span>: <span class="hljs-title class_">GenericClass</span>&lt;number&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericClass</span>(<span class="hljs-number">0</span>)
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/generics/#toc-classes-with-generics">Generic classes</a></p>
<h3 id="interfaces">Interfaces</h3>

<pre><code class="js">interface <span class="hljs-title class_">Jsonable</span> {
  <span class="hljs-title function_">toJSON</span>(): string
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
  <span class="hljs-title function_">toJSON</span>(<span class="hljs-params"></span>) { <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;{}&#x27;</span> }
}

(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>: <span class="hljs-title class_">Jsonable</span>)
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/interfaces/">Interfaces</a></p>
<h3 id="functions">Functions</h3>

<pre><code class="js"><span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {}
</code></pre>

<pre><code class="js"><span class="hljs-keyword">function</span> filter&lt;T&gt; (
  <span class="hljs-attr">list</span>: <span class="hljs-title class_">Array</span>&lt;T&gt;,
  <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">item: T</span>) =&gt;</span> boolean
): <span class="hljs-title class_">Array</span>&lt;T&gt; {
  ···
}
</code></pre>
<p>See: <a href="https://flow.org/en/docs/types/functions/">Functions</a></p>
<h3 id="imports">Imports</h3>

<pre><code class="js"><span class="hljs-keyword">import</span> type { <span class="hljs-title class_">Person</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../person&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Config</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../config&#x27;</span>
</code></pre>

<pre><code class="js"><span class="hljs-keyword">export</span> type <span class="hljs-title class_">Person</span> = { <span class="hljs-attr">id</span>: string }
</code></pre>
<h3 id="comment-syntax">Comment syntax</h3>

<pre><code class="js"><span class="hljs-comment">/*::
  export type Foo = { ... }
*/</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">n <span class="hljs-comment">/*: number */</span></span>) { ... }
</code></pre>
<h3 id="react">React</h3>

<pre><code class="js">type <span class="hljs-title class_">Props</span> = {
  <span class="hljs-attr">bar</span>: number,
}

type <span class="hljs-title class_">State</span> = {
  <span class="hljs-attr">open</span>: boolean,
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&lt;<span class="hljs-title class_">Props</span>, <span class="hljs-title class_">State</span>&gt; {
  <span class="hljs-comment">// Component code</span>
}
</code></pre>
<h2 id="examples">Examples</h2>
<h3 id="examples1">Examples</h3>

<pre><code class="js"><span class="hljs-keyword">var</span> <span class="hljs-attr">myNumbers</span>: <span class="hljs-title class_">Array</span>&lt;number&gt; = [<span class="hljs-number">42</span>]
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>): any { <span class="hljs-keyword">return</span> <span class="hljs-number">42</span> }
<span class="hljs-keyword">var</span> <span class="hljs-attr">b</span>: boolean = <span class="hljs-literal">false</span>
<span class="hljs-keyword">var</span> <span class="hljs-attr">b</span>: ?boolean = <span class="hljs-literal">false</span>  <span class="hljs-comment">/* maybe */</span>
<span class="hljs-keyword">var</span> <span class="hljs-attr">b</span>: string | boolean = <span class="hljs-literal">false</span>

<span class="hljs-keyword">var</span> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Class</span>&lt;<span class="hljs-title class_">MyClass</span>&gt; = <span class="hljs-title class_">MyClass</span>
<span class="hljs-keyword">var</span> <span class="hljs-attr">b</span>: <span class="hljs-title class_">MyClass</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">a</span>()
</code></pre>
<h3 id="function-signature">Function signature</h3>

<pre><code class="js">type <span class="hljs-title class_">Callback</span> = <span class="hljs-function">(<span class="hljs-params">?<span class="hljs-built_in">Error</span>, string</span>) =&gt;</span> any

<span class="hljs-keyword">function</span> <span class="hljs-title function_">fetch</span> (<span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>) {
  ···
}
</code></pre>
<h2 id="references">References</h2>

<ul>
<li><a href="https://www.saltycrane.com/flow-type-cheat-sheet/latest/">Flow website</a> <em>(flow.org)</em></li>
<li><a href="https://flow.org/en/docs/getting-started/">Getting started with Flow</a> <em>(flow.org)</em></li>
<li><a href="https://www.saltycrane.com/flow-type-cheat-sheet/latest/">Flow type cheatsheet</a> <em>(saltycrane.com)</em></li>
</ul>

</div>
</body>  
</html>