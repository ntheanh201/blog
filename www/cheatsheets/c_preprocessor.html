<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>C Preprocessor cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / C Preprocessor cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints\c_preprocessor.md" >edit</a>
  </div>
  <div class="toc">
<b>Reference</b>: <a href="#compiling">Compiling</a>, <a href="#includes">Includes</a>, <a href="#defines">Defines</a>, <a href="#if">If</a>, <a href="#error">Error</a>, <a href="#macro">Macro</a>, <a href="#token-concat">Token concat</a>, <a href="#stringification">Stringification</a>, <a href="#file-and-line">file and line</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="reference">Reference</h2>
<h3 id="compiling">Compiling</h3>

<pre><code><span class="hljs-symbol">$</span> cpp -P <span class="hljs-keyword">file</span> &gt; outfile
</code></pre>
<h3 id="includes">Includes</h3>

<pre><code><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;file&quot;</span></span>
</code></pre>
<h3 id="defines">Defines</h3>

<pre><code><span class="hljs-meta">#<span class="hljs-keyword">define</span> FOO</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> FOO <span class="hljs-string">&quot;hello&quot;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">undef</span> FOO</span>
</code></pre>
<h3 id="if">If</h3>

<pre><code><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> DEBUG</span>
  console.log(<span class="hljs-string">&#x27;hi&#x27;</span>);
<span class="hljs-meta">#<span class="hljs-keyword">elif</span> defined VERBOSE</span>
  ...
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
  ...
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<h3 id="error">Error</h3>

<pre><code><span class="hljs-meta">#<span class="hljs-keyword">if</span> VERSION == 2.0</span>
  <span class="hljs-meta">#<span class="hljs-keyword">error</span> Unsupported</span>
  <span class="hljs-meta">#<span class="hljs-keyword">warning</span> Not really supported</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<h3 id="macro">Macro</h3>

<pre><code>#<span class="hljs-keyword">define</span> DEG(<span class="hljs-keyword">x</span>) ((<span class="hljs-keyword">x</span>) * <span class="hljs-number">57.29</span>)
</code></pre>
<h3 id="token-concat">Token concat</h3>

<pre><code>#define DST(name) name##_s name##_t
DST(object);   #=&gt; object_s object_t;
</code></pre>
<h3 id="stringification">Stringification</h3>

<pre><code>#define <span class="hljs-constructor">STR(<span class="hljs-params">name</span>)</span> #name
<span class="hljs-built_in">char</span><span class="hljs-operator"> * </span>a = <span class="hljs-constructor">STR(<span class="hljs-params">object</span>)</span>;   #=&gt; <span class="hljs-built_in">char</span><span class="hljs-operator"> * </span>a = <span class="hljs-string">&quot;object&quot;</span>;
</code></pre>
<h3 id="file-and-line">file and line</h3>

<pre><code>#<span class="hljs-keyword">define</span> <span class="hljs-built_in">LOG</span>(msg) console.<span class="hljs-built_in">log</span>(__FILE__, __LINE__, msg)
#<span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> console.<span class="hljs-built_in">log</span>(&quot;file.txt&quot;, <span class="hljs-number">3</span>, &quot;hey&quot;)
</code></pre>

</div>
</body>  
</html>