<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Goby cheatsheet</title>
  <link href="s/main.css" rel="stylesheet" />
  <script src="s/main.js"></script>
</head>

<body onload="start()">
  <div class="breadcrumbs"><a href="/">Home</a> / <a href="index.html">cheatsheets</a> / Goby cheatsheet</div>
  <div class="edit">
      <a href="https://github.com/kjk/blog/blob/master/www/cheatsheets/devhints/goby.md" >edit</a>
  </div>
  <div class="toc">
<b>Getting started</b>: <a href="#hello-world">Hello world</a>, <a href="#repl-igb-">REPL (igb)</a><br>
<b>Variables</b>: <a href="#local-variable">Local variable</a>, <a href="#instance-variable">Instance variable</a>, <a href="#multiple-assignment">Multiple assignment</a>, <a href="#black-hole-variable">Black hole variable</a>, <a href="#class-variable">Class variable</a>, <a href="#global-variable">Global variable</a><br>
<b>Method definition</b>: <a href="#method-definition-and-calling">Method definition and calling</a>, <a href="#order-of-method-parameter">Order of method parameter</a>, <a href="#keyword-parameter-wip-">Keyword parameter (WIP)</a>, <a href="#returning-value">Returning value</a>, <a href="#returning-multiple-value">Returning multiple value</a>, <a href="#instance-method">Instance method</a>, <a href="#singleton-method-1">Singleton method #1</a>, <a href="#singleton-method-2">Singleton method #2</a>, <a href="#singleton-method-3">Singleton method #3</a>, <a href="#singleton-method-4">Singleton method #4</a>, <a href="#attribute-accessor-method">Attribute accessor method</a>, <a href="#private-method-to-be-implemented-">Private method (to be implemented)</a><br>
<b>Module/Class definition</b>: <a href="#module-definition-and-include-">Module definition and include</a>, <a href="#module-definition-and-extend-">Module definition and extend</a>, <a href="#module-instantiation">Module instantiation</a>, <a href="#class-definition-and-inheritance">Class definition and inheritance</a>, <a href="#constants">Constants</a>, <a href="#redefining-class-modules">Redefining class/modules</a>, <a href="#namespaces">Namespaces</a><br>
<b>Load library</b>: <a href="#-require-">require</a>, <a href="#-require_relative-">require_relative</a><br>
<b>Literal</b>: <a href="#keyword">Keyword</a>, <a href="#string-literal">String literal</a>, <a href="#symbol-literal">Symbol literal</a>, <a href="#numeric-literal">Numeric literal</a>, <a href="#array-literal">Array literal</a>, <a href="#hash-literal">Hash literal</a>, <a href="#range-literal">Range literal</a>, <a href="#boolean-and-nil-">Boolean and nil</a><br>
<b>Operator</b>: <a href="#arithmetic-logical-assignment-operators">Arithmetic/logical/assignment operators</a>, <a href="#other-operators">Other operators</a>, <a href="#delimiter">Delimiter</a>, <a href="#string-interpolation-to-be-implemented-">String interpolation (to be implemented)</a>, <a href="#comment">Comment</a>, <a href="#i-o">I/O</a><br>
<b>Flow control</b>: <a href="#-if-else-elsif-">if, else, elsif</a>, <a href="#break">Break</a>, <a href="#case">Case</a>, <a href="#while">While</a>, <a href="#rescue">Rescue</a><br>
<b>Block</b>: <a href="#block1">Block</a>, <a href="#-yield-">yield</a>, <a href="#block-object-and-call-">Block object and call</a>, <a href="#passing-a-block">Passing a block</a>, <a href="#passing-a-block-with-block-arguments">Passing a block with block arguments</a>, <a href="#special-get_block-keyword">Special get_block keyword</a>, <a href="#closure">Closure</a><br>
<b>Native class (Primary)</b>: <a href="#-object-">Object</a>, <a href="#-class-">Class</a>, <a href="#-string-">String</a>, <a href="#-integer-">Integer</a>, <a href="#-array-">Array</a>, <a href="#-hash-">Hash</a>, <a href="#-range-">Range</a>, <a href="#-block-">Block</a><br>
<b>Native class (secondary)</b>: <a href="#-float-">Float</a>, <a href="#-decimal-">Decimal</a>, <a href="#-regexp-">Regexp</a>, <a href="#-matchdata-">MatchData</a>, <a href="#-file-">File</a><br>
<b>Native class (Golang-oriented)</b>: <a href="#-gomap-">GoMap</a>, <a href="#-channel-">Channel</a><br>
<b>Enumerator & lazy</b>: <a href="#-lazyenumerator-">LazyEnumerator</a>, <a href="#-arrayenumerator-">ArrayEnumerator</a>, <a href="#-rangeenumerator-">RangeEnumerator</a><br>
<b>Special class</b>: <a href="#-boolean-">Boolean</a>, <a href="#-null-">Null</a>, <a href="#-method-">Method</a>, <a href="#-diggable-">Diggable</a><br>
<b>Testing framework</b>: <a href="#-spec-">Spec</a><br>
<b>Tips & tricks</b>: <a href="#showing-methods">Showing methods</a>, <a href="#showing-class">Showing class</a>, <a href="#showing-singleton-class">Showing singleton class</a>, <a href="#showing-ancestors">Showing ancestors</a>, <a href="#showing-singleton-classes-ancestors">Showing singleton classes' ancestors</a>, <a href="#showing-object-s-id">Showing object's id</a>, <a href="#-to_json-">#to_json</a>, <a href="#customize-to_json-">Customize #to_json</a>, <a href="#lazy-enumeration">Lazy enumeration</a><br>
<b>Styling</b>: <a href="#quick-style-guide">Quick style guide</a>, <a href="#document-notation">Document notation</a>, <a href="#syntax-highlighting">Syntax highlighting</a><br>
<b>References</b>: <a href="#official">Official</a>, <a href="#readings-for-goby-developers">Readings for Goby developers</a>, <a href="#jp-resource">JP resource</a><br></div>


  <div id="start"></div>
  <div id="wrapped-content"></div>
<div id="content">
<h2 id="getting-started">Getting started</h2>
<h3 id="hello-world">Hello world</h3>
<h4 id="hello-gb">hello.gb</h4>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Greet</span></span>
  <span class="hljs-keyword">attr_accessor</span> <span class="hljs-symbol">:audience</span>, <span class="hljs-symbol">:head</span>, <span class="hljs-symbol">:tail</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span></span>
    <span class="hljs-variable">@head</span> = <span class="hljs-string">&quot;Hello, &quot;</span>
    <span class="hljs-variable">@tail</span> = <span class="hljs-string">&quot;!&quot;</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name</span></span>
    audience.name
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say</span></span>
    puts head + name + tail
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">MyName</span></span>
  <span class="hljs-keyword">attr_reader</span> <span class="hljs-symbol">:name</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span></span>
    <span class="hljs-variable">@name</span> = <span class="hljs-keyword">self</span>.<span class="hljs-keyword">class</span>.to_s
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">World</span></span>
  <span class="hljs-keyword">include</span> MyName
<span class="hljs-keyword">end</span>

greet = Greet.new
greet.audience = World.new
greet.say
</code></pre>
<p>Then run:</p>

<pre><code class="bash">$ goby hello.gb
<span class="hljs-comment">#=&gt; Hello, World!</span>
</code></pre>
<h3 id="repl-igb-">REPL (igb)</h3>

<pre><code class="bash">$ goby -i
</code></pre>

<ul>
<li><code>reset</code>: reset the VM</li>
<li><code>exit</code>: exit REPL</li>
<li><code>help</code>: show help</li>
<li>ctrl-c: cancel the block entered, or exit (on top level)</li>
</ul>
<p>See <a href="https://github.com/goby-lang/goby/blob/master/igb/manual_test.md">igb manual &amp; test script</a>. You can use <code>readline</code> features such as command history by arrow keys.</p>
<h2 id="variables">Variables</h2>
<h3 id="local-variable">Local variable</h3>

<pre><code class="ruby">zip101 = <span class="hljs-string">&quot;233-7383&quot;</span>
magic_number = <span class="hljs-number">42</span>
</code></pre>
<p>Should be &quot;<code>[a-z][a-z0-9_]+</code>&quot;(snake_case).</p>
<h3 id="instance-variable">Instance variable</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">State</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(state)</span></span>
    <span class="hljs-variable">@state</span> = state      <span class="hljs-comment"># declaring an instance variable by assignment</span>
  <span class="hljs-keyword">end</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">show</span></span>
    <span class="hljs-variable">@state</span>              <span class="hljs-comment"># accessible from other instance methods</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

state = State.new <span class="hljs-string">&quot;success&quot;</span>
state.show
<span class="hljs-comment">#=&gt; success</span>
</code></pre>
<p>Should be &quot;<code>@[a-z][a-z0-9_]+</code>&quot;(snake_case).</p>
<h3 id="multiple-assignment">Multiple assignment</h3>

<pre><code class="ruby"><span class="hljs-comment"># array literal</span>
a, b, c = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]

<span class="hljs-comment"># array with &#x27;*&#x27;</span>
a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
x, y, z = *a

<span class="hljs-comment"># array literal with &#x27;*&#x27;</span>
a, b, c = *[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]

<span class="hljs-comment"># bare assignment: unsupported</span>
a, b, c = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>  <span class="hljs-comment">#=&gt; unexpected 3 Line: 0</span>
</code></pre>
<h3 id="black-hole-variable">Black hole variable</h3>

<pre><code class="ruby"><span class="hljs-comment"># &#x27;_&#x27; is write-only</span>
a, _ = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]
</code></pre>
<h3 id="class-variable">Class variable</h3>
<p>Unsupported.</p>
<h3 id="global-variable">Global variable</h3>
<p>Unsupported.</p>
<h2 id="method-definition">Method definition</h2>
<h3 id="method-definition-and-calling">Method definition and calling</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo_bar?</span><span class="hljs-params">(baz)</span></span>
  <span class="hljs-keyword">if</span> baz == <span class="hljs-string">&quot;Hi, Goby!&quot;</span>
    <span class="hljs-literal">true</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-literal">false</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

foo_bar? <span class="hljs-string">&quot;Hi, Goby!&quot;</span> <span class="hljs-comment">#=&gt; true</span>
</code></pre>
<p>Method name should be &quot;<code>[a-z][a-z0-9_]+\??</code>&quot; (snake_case). You can omit the trailing &quot;<code>()</code>&quot; only if no parameters are taken. Trailing using &quot;<code>!</code>&quot; is <strong>unsupported</strong>.</p>
<h3 id="order-of-method-parameter">Order of method parameter</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(normal, default=<span class="hljs-string">&quot;value&quot;</span>, hash={}, ary=[], <span class="hljs-symbol">keyword:</span>, <span class="hljs-symbol">keyword_default:</span><span class="hljs-string">&quot;key&quot;</span>, *sprat)</span></span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>If a default value is provided to a parameter, the parameter can be omitted when calling. <code>()</code> can be omitted. The order of parameters in method definition is restricted as follows:</p>

<ol>
<li><strong>normal parameters</strong> (like <code>a</code>)</li>
<li><strong>normal parameters with default value</strong> (like <code>a=1</code>)</li>
<li><strong>optional parameters</strong> (array or hash, like <code>ary=[]</code> or <code>hs={}</code>)</li>
<li><strong>keyword parameters</strong> (like <code>kwd:</code>) </li>
<li><strong>keyword parameters with default value</strong> (like <code>kwd: 1</code> or <code>ary: [1,2,3]</code> or <code>hsh: {key: &quot;value&quot;}</code>)</li>
<li><strong>splat parameters</strong> (like <code>*sp</code>)</li>
</ol>
<p>Or you will receive an error.</p>
<h3 id="keyword-parameter-wip-">Keyword parameter (WIP)</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-symbol">process:</span>, <span class="hljs-symbol">verb:</span> <span class="hljs-symbol">:GET</span>, <span class="hljs-symbol">opt:</span>{ <span class="hljs-symbol">csp:</span> <span class="hljs-symbol">:enabled</span> }, <span class="hljs-symbol">ary:</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])</span></span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="returning-value">Returning value</h3>

<pre><code class="ruby">PI = <span class="hljs-number">3.14</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">area</span><span class="hljs-params">(radius)</span></span>
  radius * PI      <span class="hljs-comment"># returns the result of evaluation</span>
<span class="hljs-keyword">end</span>

area <span class="hljs-number">6</span>             <span class="hljs-comment">#=&gt; 18.84</span>
</code></pre>
<h3 id="returning-multiple-value">Returning multiple value</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">my_array</span></span>
  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-keyword">end</span>

my_array   <span class="hljs-comment">#=&gt; [1, 2, 3]</span>
</code></pre>
<h3 id="instance-method">Instance method</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span></span>
  def bar       <span class="hljs-comment"># defining instance method</span>
    puts <span class="hljs-string">&quot;bar&quot;</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">baz</span><span class="hljs-params">(count, <span class="hljs-symbol">email:</span> <span class="hljs-string">&quot;goby@example.com&quot;</span>)</span></span>
    count.times <span class="hljs-keyword">do</span>
      puts email
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

foo = Foo.new
foo.bar     <span class="hljs-comment">#=&gt; bar</span>
foo.baz(<span class="hljs-number">3</span>)  <span class="hljs-comment">#↓</span>
goby<span class="hljs-variable">@example</span>.com
goby<span class="hljs-variable">@example</span>.com
goby<span class="hljs-variable">@example</span>.com
</code></pre>
<h3 id="singleton-method-1">Singleton method #1</h3>

<pre><code class="ruby">str = <span class="hljs-string">&quot;Goby&quot;</span>
def str.foo     <span class="hljs-comment">#1 singleton method on the object</span>
  <span class="hljs-keyword">self</span> * <span class="hljs-number">2</span>
<span class="hljs-keyword">end</span>

str.foo
<span class="hljs-comment">#=&gt; GobyGoby</span>
</code></pre>
<h3 id="singleton-method-2">Singleton method #2</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span></span>
  def <span class="hljs-keyword">self</span>.bar  <span class="hljs-comment">#2 singleton method with `self.`</span>
    <span class="hljs-number">92</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="singleton-method-3">Singleton method #3</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span>  </span>
  def Foo.bar   <span class="hljs-comment">#3 singleton method with a class name (unrecommended)</span>
    <span class="hljs-number">88</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="singleton-method-4">Singleton method #4</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span> <span class="hljs-title">end</span></span>

def Foo.bar     <span class="hljs-comment">#4 singleton methods outside the Foo</span>
  <span class="hljs-number">9999</span>
<span class="hljs-keyword">end</span>

Foo.bar <span class="hljs-comment">#=&gt; 9999</span>
</code></pre>
<h3 id="attribute-accessor-method">Attribute accessor method</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-keyword">attr_accessor</span> <span class="hljs-symbol">:bar</span>, <span class="hljs-symbol">:baz</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span></span>
    <span class="hljs-variable">@bar</span> = <span class="hljs-number">42</span>
    <span class="hljs-variable">@baz</span> = <span class="hljs-number">99</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

foo = Foo.new

foo.bar = <span class="hljs-number">77</span>
foo.baz = <span class="hljs-number">88</span>
</code></pre>
<p>You can use the following shorthands to declare attribute accessor methods in classes/modules:</p>

<ul>
<li><code>attr_accessor</code></li>
<li><code>attr_reader</code></li>
<li><code>attr_writer</code></li>
</ul>
<h3 id="private-method-to-be-implemented-">Private method (to be implemented)</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span></span>
    <span class="hljs-number">42</span>
  <span class="hljs-keyword">end</span>

  def _baz  <span class="hljs-comment"># leading &#x27;_&#x27; means private method</span>
    <span class="hljs-number">99</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h2 id="module-class-definition">Module/Class definition</h2>
<h3 id="module-definition-and-include-">Module definition and <code>include</code></h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span></span>
    <span class="hljs-string">&quot;Foo&#x27;s instance method&quot;</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span></span>
  <span class="hljs-keyword">include</span> Foo   <span class="hljs-comment"># to include Foo</span>
<span class="hljs-keyword">end</span>

Bar.new.foo     <span class="hljs-comment">#=&gt; Foo&#x27;s instance method</span>
</code></pre>
<p>Module names should be &quot;<code>[A-Z][A-Za-z0-9_]+</code>&quot; (UpperCamelCase). Modules cannot be inherited.</p>
<h3 id="module-definition-and-extend-">Module definition and <code>extend</code></h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span></span>
    <span class="hljs-string">&quot;Foo&#x27;s instance method will be a singleton method&quot;</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span></span>
  extend Foo   <span class="hljs-comment"># to extend Foo  </span>
<span class="hljs-keyword">end</span>

Bar.foo        <span class="hljs-comment">#=&gt; Foo&#x27;s instance method will be a singleton method</span>
</code></pre>
<p><code>extend</code> is to use the instance methods in the specified modules as <strong>singleton methods</strong> in your class or module. </p>
<h3 id="module-instantiation">Module instantiation</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Foo</span>   <span class="hljs-comment">#module definition</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span>   </span>
    <span class="hljs-number">99</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Foo.new.foo  <span class="hljs-comment">#=&gt; 99</span>
</code></pre>
<p>Actually, Goby&#39;s module can be even <strong>instantiated</strong> via &quot;<code>new</code>&quot; like &quot;<code>Foo.new</code>&quot;.</p>
<h3 id="class-definition-and-inheritance">Class definition and inheritance</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>       <span class="hljs-comment"># class definition</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span></span>
    <span class="hljs-number">99</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Baz</span> &lt; Foo <span class="hljs-comment"># inheritance</span></span>
<span class="hljs-keyword">end</span>

Baz.new.bar  <span class="hljs-comment">#=&gt; 99</span>
</code></pre>
<p>Class names should be &quot;<code>[A-Z][A-Za-z0-9]+</code>&quot; (UpperCamelCase). Inheritance with &quot;<code>&lt;</code>&quot; is supported.</p>
<h3 id="constants">Constants</h3>

<pre><code class="ruby">HTTP_ERROR_404 = <span class="hljs-number">404</span>
HTTP_ERROR_404 = <span class="hljs-number">500</span>    <span class="hljs-comment"># error</span>
</code></pre>
<p>Constants should be &quot;<code>[A-Z][A-Za-z0-9_]+</code>&quot; (UPPER_SNAKECASE). Constants are <strong>not reentrant</strong> and the scope is <strong>global</strong>.</p>
<h3 id="redefining-class-modules">Redefining class/modules</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span></span>
    <span class="hljs-number">99</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  def bar  <span class="hljs-comment"># redefining is possible</span>
    <span class="hljs-number">77</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="namespaces">Namespaces</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">Bar</span></span>
    MAGIC = <span class="hljs-number">99</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">baz</span></span>
      <span class="hljs-number">99</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Foo::Bar.new.baz     <span class="hljs-comment"># Use &#x27;::&#x27; for namespacing</span>
Foo::Bar::MAGIC      <span class="hljs-comment"># Use &#x27;::&#x27; for namespacing</span>
</code></pre>
<h2 id="load-library">Load library</h2>
<h3 id="-require-"><code>require</code></h3>

<pre><code class="ruby"><span class="hljs-keyword">require</span>(<span class="hljs-string">&quot;uri&quot;</span>)   <span class="hljs-comment"># to activate URL class</span>

u = URI.parse(<span class="hljs-string">&quot;http://example.com&quot;</span>)
u.scheme   <span class="hljs-comment">#=&gt; &quot;http&quot;</span>
</code></pre>
<h3 id="-require_relative-"><code>require_relative</code></h3>

<pre><code class="ruby">require_relative(<span class="hljs-string">&quot;bar&quot;</span>)  <span class="hljs-comment"># loading the local bar.gb</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  def <span class="hljs-keyword">self</span>.bar(x)
    Bar.foo <span class="hljs-keyword">do</span> <span class="hljs-params">|ten|</span>
      x * ten
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  def <span class="hljs-keyword">self</span>.baz
    <span class="hljs-keyword">yield</span>(<span class="hljs-number">100</span>)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h2 id="literal">Literal</h2>
<h3 id="keyword">Keyword</h3>
<p><code>def</code>, <code>true</code>, <code>false</code>, <code>nil</code>, <code>if</code>, <code>elsif</code>, <code>else</code>, <code>case</code>, <code>when</code>, <code>return</code>, <code>self</code>, <code>end</code>, <code>while</code>, <code>do</code>, <code>yield</code>, <code>get_block</code>, <code>next</code>, <code>class</code>, <code>module</code>, <code>break</code></p>
<h3 id="string-literal">String literal</h3>

<pre><code class="ruby"><span class="hljs-string">&quot;double quote&quot;</span>
<span class="hljs-string">&#x27;single quote&#x27;</span>
</code></pre>
<p>Double and single quotation can be used.</p>
<h3 id="symbol-literal">Symbol literal</h3>

<pre><code class="ruby"><span class="hljs-symbol">:symbol</span>           <span class="hljs-comment"># equivalent to &quot;symbol&quot;</span>
{ <span class="hljs-symbol">symbol:</span> <span class="hljs-string">&quot;value&quot;</span> }
</code></pre>
<p>Goby&#39;s symbol (using <code>:</code>) is always <code>String</code> class.</p>
<h3 id="numeric-literal">Numeric literal</h3>

<pre><code class="ruby">year   =  <span class="hljs-number">2018</span>   <span class="hljs-comment"># Integer</span>
offset = -<span class="hljs-number">42</span>     <span class="hljs-comment"># Integer</span>
PI     = <span class="hljs-number">3.14</span>    <span class="hljs-comment"># Float</span>
G      = -<span class="hljs-number">9.8</span>    <span class="hljs-comment"># Float</span>
</code></pre>
<h3 id="array-literal">Array literal</h3>

<pre><code class="ruby">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-symbol">:goby</span>, { <span class="hljs-symbol">key:</span> <span class="hljs-string">&quot;value&quot;</span>}]
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
</code></pre>
<h3 id="hash-literal">Hash literal</h3>

<pre><code class="ruby">h = { <span class="hljs-symbol">key:</span> <span class="hljs-string">&quot;value&quot;</span>, <span class="hljs-symbol">key2:</span> <span class="hljs-string">&quot;value2&quot;</span> }
h[<span class="hljs-symbol">:key2</span>]   <span class="hljs-comment">#=&gt; value2</span>
</code></pre>
<p>Hash literal&#39;s keys should always be <strong>symbol literals</strong>. </p>
<h3 id="range-literal">Range literal</h3>

<pre><code class="ruby">(<span class="hljs-number">1</span>..<span class="hljs-number">10</span>).each <span class="hljs-keyword">do</span> <span class="hljs-params">|x|</span>    <span class="hljs-comment"># &#x27;..&#x27; represents a range</span>
  puts x*x
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="boolean-and-nil-">Boolean and <code>nil</code></h3>

<pre><code class="ruby"><span class="hljs-literal">true</span>       <span class="hljs-comment"># Boolean class</span>
<span class="hljs-literal">false</span>      <span class="hljs-comment"># Boolean class</span>
<span class="hljs-literal">nil</span>        <span class="hljs-comment"># Null class</span>

!<span class="hljs-literal">nil</span>  <span class="hljs-comment">#=&gt; true</span>
</code></pre>
<p>Any objects except <code>nil</code> and <code>false</code> will be treated as <code>true</code> on conditionals.</p>
<h2 id="operator">Operator</h2>
<h3 id="arithmetic-logical-assignment-operators">Arithmetic/logical/assignment operators</h3>

<pre><code class="ruby">+           <span class="hljs-comment"># unary</span>
**          <span class="hljs-comment"># power</span>
-           <span class="hljs-comment"># unary</span>
* <span class="hljs-regexp">/ %       # multiplication, division, modulus
+ -         # addition, subtraction
!           # logical inversion
&gt; &gt;= &lt; &lt;=   # inequality comparison
== !=       # equality comparison, negative comparison
&amp;&amp;          # logical AND
||          # logical OR
+= -=       # shorthand of addition/subtraction</span>
=           <span class="hljs-comment"># assignment</span>
</code></pre>
<p>*Priority of operators are TBD</p>
<h3 id="other-operators">Other operators</h3>

<pre><code class="ruby">()          <span class="hljs-comment"># chaning priority of interpretation</span>
[]          <span class="hljs-comment"># array literal</span>
*           <span class="hljs-comment"># multiple assignment</span>
..          <span class="hljs-comment"># range</span>
</code></pre>
<p>*Priority of operators are TBD</p>
<h3 id="delimiter">Delimiter</h3>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>;</span> <span class="hljs-keyword">end</span>   <span class="hljs-comment"># &#x27;;&#x27; to delimit</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span> <span class="hljs-title">end</span>    <span class="hljs-comment"># recommended</span></span>
</code></pre>
<h3 id="string-interpolation-to-be-implemented-">String interpolation (to be implemented)</h3>

<pre><code class="ruby">puts <span class="hljs-string">&quot;Error: <span class="hljs-subst">#{error_message}</span>&quot;</span>  <span class="hljs-comment"># double quotation is required</span>
</code></pre>
<h3 id="comment">Comment</h3>

<pre><code class="ruby">puts <span class="hljs-string">&quot;Goby&quot;</span>    <span class="hljs-comment"># comments</span>
</code></pre>
<p>Use the annotations to keep the comments concise.</p>

<ul>
<li><code>TODO</code></li>
<li><code>FIXME</code></li>
<li><code>OPTIMIZE</code></li>
<li><code>HACK</code></li>
<li><code>REVIEW</code></li>
</ul>
<h3 id="i-o">I/O</h3>

<ul>
<li><p><code>#puts</code></p>
</li>
<li><p>special constants: <code>ARGV</code>, <code>STDIN</code>, <code>STDOUT</code>, <code>STDERR</code>, <code>ENV</code> </p>
</li>
</ul>
<h2 id="flow-control">Flow control</h2>
<h3 id="-if-else-elsif-"><code>if</code>, <code>else</code>, <code>elsif</code></h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(str)</span></span>
  <span class="hljs-keyword">if</span> str.size &gt; <span class="hljs-number">10</span>
    puts <span class="hljs-string">&quot;too big!&quot;</span>
  <span class="hljs-keyword">elsif</span> str.size &lt; <span class="hljs-number">3</span>
    puts <span class="hljs-string">&quot;too short!&quot;</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">&quot;moderate&quot;</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><code>then</code> is <strong>not</strong> supported.</p>
<h3 id="break">Break</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(tail)</span></span>
  (<span class="hljs-number">5</span>..tail).each <span class="hljs-keyword">do</span> <span class="hljs-params">|t|</span>
    <span class="hljs-keyword">if</span> t % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> &amp;&amp; t % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>
      puts <span class="hljs-string">&quot;ouch!&quot;</span>
      <span class="hljs-keyword">break</span>       <span class="hljs-comment"># finish the block</span>
    <span class="hljs-keyword">else</span>
      puts t
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
  puts <span class="hljs-string">&quot;out of the block&quot;</span>
<span class="hljs-keyword">end</span>

foo <span class="hljs-number">20</span>
<span class="hljs-comment">#=&gt; 5 6 7 8 9</span>
<span class="hljs-comment">#=&gt; ouch!</span>
<span class="hljs-comment">#=&gt; out of the block</span>
</code></pre>
<h3 id="case">Case</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(str)</span></span>
  <span class="hljs-keyword">case</span> str
  <span class="hljs-keyword">when</span> <span class="hljs-string">&quot;Elf&quot;</span>
    puts <span class="hljs-string">&quot;You might be Aragorn II!&quot;</span>
  <span class="hljs-keyword">when</span> <span class="hljs-string">&quot;Aragorn&quot;</span>
    puts <span class="hljs-string">&quot;Long time no see, Aragorn!&quot;</span>
  <span class="hljs-keyword">when</span> <span class="hljs-string">&quot;Frodo&quot;</span>, <span class="hljs-string">&quot;Sam&quot;</span>, <span class="hljs-string">&quot;Gandalf&quot;</span>
    puts <span class="hljs-string">&quot;One of us!&quot;</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">&quot;You&#x27;re not yourself&quot;</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="while">While</h3>

<pre><code class="ruby">decr = <span class="hljs-number">10</span>
<span class="hljs-keyword">while</span> decr <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> decr &lt; <span class="hljs-number">1</span>
    <span class="hljs-keyword">break</span>
  <span class="hljs-keyword">end</span>
  puts decr
  decr -= <span class="hljs-number">1</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><code>while</code>, conditional and a <code>do</code>/<code>end</code> block can be used for a loop.</p>
<h3 id="rescue">Rescue</h3>
<p>Under construction. Join <a href="https://github.com/goby-lang/goby/issues/605">#605</a>.</p>
<h2 id="block">Block</h2>
<h3 id="block1">Block</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-symbol">ary:</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])</span></span>
  ary.each <span class="hljs-keyword">do</span> <span class="hljs-params">|s|</span>      <span class="hljs-comment"># start of the block with |block variable|</span>
    puts s
  <span class="hljs-keyword">end</span>                  <span class="hljs-comment"># end of the block</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><code>{ }</code> cannot be used for forming a block.</p>
<h3 id="-yield-"><code>yield</code></h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span></span>
  <span class="hljs-keyword">yield</span>(<span class="hljs-number">10</span>)  <span class="hljs-comment"># executes the block given</span>
<span class="hljs-keyword">end</span>

foo <span class="hljs-keyword">do</span> <span class="hljs-params">|ten|</span>
  ten + <span class="hljs-number">20</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="block-object-and-call-">Block object and <code>call</code></h3>

<pre><code class="ruby">b = Block.new <span class="hljs-keyword">do</span>
  <span class="hljs-number">100</span>
<span class="hljs-keyword">end</span>

b.call  <span class="hljs-comment">#=&gt; 100</span>
</code></pre>
<p><code>Block.new</code> can take a block and then <code>call</code>.</p>
<h3 id="passing-a-block">Passing a block</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">baz</span></span>
  <span class="hljs-number">1000</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">exec_block</span><span class="hljs-params">(block)</span></span>
    block.call
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">baz</span></span>
    <span class="hljs-number">100</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

b = Block.new <span class="hljs-keyword">do</span>
  baz
<span class="hljs-keyword">end</span>

f = Foo.new
f.exec_block(b)
</code></pre>
<h3 id="passing-a-block-with-block-arguments">Passing a block with block arguments</h3>

<pre><code class="ruby">b = Block.new <span class="hljs-keyword">do</span> <span class="hljs-params">|arg, offset|</span>
  arg + <span class="hljs-number">1000</span> - offset
<span class="hljs-keyword">end</span>

b.call(<span class="hljs-number">49</span>, <span class="hljs-number">500</span>) <span class="hljs-comment">#=&gt; 549</span>
</code></pre>
<h3 id="special-get_block-keyword">Special <code>get_block</code> keyword</h3>

<pre><code class="ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span><span class="hljs-params">(block)</span></span>
  <span class="hljs-comment"># runs the block object and the block arg simultaneously</span>
  block.call + get_block.call
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span></span>
  bar(get_block) <span class="hljs-keyword">do</span> <span class="hljs-comment"># passes two blocks to `bar`</span>
    <span class="hljs-number">20</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

foo <span class="hljs-keyword">do</span>
  <span class="hljs-number">10</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><code>get_block</code> is not a method but a <strong>keyword</strong> to retrive a given block argument as a block object. By this, you can pass around or <code>call</code> the given block arguments as block objects. </p>
<h3 id="closure">Closure</h3>

<pre><code class="ruby">count = <span class="hljs-number">0</span>          <span class="hljs-comment"># the declaration is used</span>
b = Block.new <span class="hljs-keyword">do</span>
  count += <span class="hljs-number">1</span>       <span class="hljs-comment"># the block looks preserving the `count`</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span><span class="hljs-params">(blk)</span></span>
    count = <span class="hljs-number">9</span>      <span class="hljs-comment"># (does not affect)</span>
    puts blk.call  <span class="hljs-comment"># local variable is resolved to the one above</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Foo.new.bar b  <span class="hljs-comment">#=&gt; 1</span>
Foo.new.bar b  <span class="hljs-comment">#=&gt; 2</span>
Foo.new.bar b  <span class="hljs-comment">#=&gt; 3</span>
</code></pre>
<h2 id="native-class-primary-">Native class (Primary)</h2>
<p>Goby&#39;s most &quot;native&quot; classes cannot instantiate with <code>new</code> in principle. </p>
<h3 id="-object-"><code>Object</code></h3>

<pre><code class="ruby">Bar.ancestors
<span class="hljs-comment">#» [Bar, Foo, Object]</span>
Bar.singleton_class.ancestors
<span class="hljs-comment">#» [#&lt;Class:Bar&gt;, #&lt;Class:Object&gt;, Class, Object]</span>
</code></pre>
<p><code>Object</code> is actually just for creating singleton classes. See <code>Class</code>.</p>

<ul>
<li><p><strong><code>Object.methods</code></strong>: <code>!</code>, <code>!=</code>, <code>==</code>, <code>block_given?</code>, <code>class</code>, <code>exit</code>, <code>instance_eval</code>, <code>instance_variable_get</code>, <code>instance_variable_set</code>, <code>is_a?</code>, <code>methods</code>, <code>nil?</code>, <code>object_id</code>, <code>puts</code>, <code>raise</code>, <code>require</code>, <code>require_relative</code>, <code>send</code>, <code>singleton_class</code>, <code>sleep</code>, <code>thread</code>, <code>to_s</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>ancestors</code>, <code>attr_accessor</code>, <code>attr_reader</code>, <code>attr_writer</code>, <code>extend</code>, <code>include</code>, <code>name</code>, <code>new</code>, <code>superclass</code></p>
</li>
<li><p><strong><code>Object.new.methods</code></strong>: <code>!</code>, <code>!=</code>, <code>==</code>, <code>block_given?</code>, <code>class</code>, <code>exit</code>, <code>instance_eval</code>, <code>instance_variable_get</code>, <code>instance_variable_set</code>, <code>is_a?</code>, <code>methods</code>, <code>nil?</code>, <code>object_id</code>, <code>puts</code>, <code>raise</code>, <code>require</code>, <code>require_relative</code>, <code>send</code>, <code>singleton_class</code>, <code>sleep</code>, <code>thread</code>, <code>to_s</code></p>
</li>
</ul>
<h3 id="-class-"><code>Class</code></h3>

<pre><code class="ruby">String.ancestors      <span class="hljs-comment">#=&gt; [String, Object]</span>
</code></pre>
<p><code>Class</code> and <code>Object</code>can actually be regarded as the same and you don&#39;t need to distinguish them in almost all the cases. </p>

<ul>
<li><strong><code>Class.methods</code></strong>: <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>ancestors</code>, <code>attr_accessor</code>, <code>attr_reader</code>, <code>attr_writer</code>, <code>extend</code>, <code>include</code>, <code>name</code>, <code>new</code>, <code>superclass</code>, <code>!</code>, <code>!=</code>, <code>==</code>, <code>block_given?</code>, <code>class</code>, <code>exit</code>, <code>instance_eval</code>, <code>instance_variable_get</code>, <code>instance_variable_set</code>, <code>is_a?</code>, <code>methods</code>, <code>nil?</code>, <code>object_id</code>, <code>puts</code>, <code>raise</code>, <code>require</code>, <code>require_relative</code>, <code>send</code>, <code>singleton_class</code>, <code>sleep</code>, <code>thread</code>, <code>to_s</code></li>
</ul>
<h3 id="-string-"><code>String</code></h3>

<pre><code class="ruby">puts <span class="hljs-string">&quot;Hello&quot;</span> + <span class="hljs-string">&#x27; &#x27;</span> + <span class="hljs-string">&#x27;world&#x27;</span>  <span class="hljs-comment">#=&gt; Hello world</span>
</code></pre>
<p>Fixed to <strong>UTF-8</strong> with mb4 support.</p>

<ul>
<li><strong><code>String.methods</code></strong>: <code>fmt</code>,
<ul>
<li>the rest: <code>Class.methods</code></li>
</ul>
</li>
<li><strong><code>&quot;a&quot;.methods</code></strong>:  <code>!=</code>, <code>*</code>, <code>+</code>, <code>&lt;</code>, <code>&lt;=&gt;</code>, <code>==</code>, <code>=~</code>, <code>&gt;</code>, <code>[]</code>, <code>[]=</code>, <code>capitalize</code>, <code>chop</code>, <code>concat</code>, <code>count</code>, <code>delete</code>, <code>downcase</code>, <code>each_byte</code>, <code>each_char</code>, <code>each_line</code>, <code>empty?</code>, <code>end_with?</code>, <code>eql?</code>, <code>fmt</code>, <code>include?</code>, <code>insert</code>, <code>length</code>, <code>ljust</code>, <code>match</code>, <code>new</code>, <code>replace</code>, <code>replace_once</code>, <code>reverse</code>, <code>rjust</code>, <code>size</code>, <code>slice</code>, <code>split</code>, <code>start_with</code>, <code>strip</code>, <code>to_a</code>, <code>to_bytes</code>, <code>to_d</code>, <code>to_f</code>, <code>to_i</code>, <code>to_s</code>, <code>upcase</code>,
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-integer-"><code>Integer</code></h3>

<pre><code class="ruby"><span class="hljs-number">37037</span> * <span class="hljs-number">27</span>      <span class="hljs-comment">#=&gt; 999999</span>
</code></pre>

<ul>
<li><strong><code>Integer.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>1.methods</code></strong>: <code>!=</code>, <code>%</code>, <code>*</code>, <code>**</code>, <code>+</code>, <code>-</code>, <code>/</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&lt;=&gt;</code>, <code>==</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>even?</code>, <code>new</code>, <code>next</code>, <code>odd?</code>, <code>pred</code>, <code>ptr</code>, <code>times</code>, <code>to_f</code>, <code>to_float32</code>, <code>to_float64</code>, <code>to_i</code>, <code>to_int</code>, <code>to_int16</code>, <code>to_int32</code>, <code>to_int64</code>, <code>to_int8</code>, <code>to_s</code>, <code>to_uint</code>, <code>to_uint16</code>, <code>to_uint32</code>, <code>to_uint64</code>, <code>to_uint8</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-array-"><code>Array</code></h3>

<pre><code class="ruby">[<span class="hljs-number">1</span>, <span class="hljs-string">&quot;2&quot;</span>, <span class="hljs-symbol">:card</span>, [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>], { <span class="hljs-symbol">john:</span> <span class="hljs-string">&quot;doe&quot;</span> }]
</code></pre>

<ul>
<li><strong><code>Array.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>[1].methods</code></strong>: <code>*</code>, <code>+</code>, <code>[]</code>, <code>[]=</code>, <code>any?</code>, <code>at</code>, <code>clear</code>, <code>concat</code>, <code>count</code>, <code>delete_at</code>, <code>dig</code>, <code>each</code>, <code>each_index</code>, <code>empty?</code>, <code>first</code>, <code>flatten</code>, <code>include?</code>, <code>join</code>, <code>last</code>, <code>lazy</code>, <code>length</code>, <code>map</code>, <code>new</code>, <code>pop</code>, <code>push</code>, <code>reduce</code>, <code>reverse</code>, <code>reverse_each</code>, <code>rotate</code>, <code>select</code>, <code>shift</code>, <code>to_enum</code>, <code>unshift</code>, <code>values_at</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-hash-"><code>Hash</code></h3>

<pre><code class="ruby">h = { <span class="hljs-symbol">key:</span> <span class="hljs-string">&quot;value&quot;</span> }
h = { <span class="hljs-string">&quot;key&quot;</span>: <span class="hljs-string">&quot;value&quot;</span> }  <span class="hljs-comment">#=&gt; error</span>

h[<span class="hljs-string">&quot;key&quot;</span>]  <span class="hljs-comment">#=&gt; value</span>
h[<span class="hljs-symbol">:key</span>]   <span class="hljs-comment">#=&gt; value</span>
</code></pre>
<p>Keys in hash literals should be <strong>symbol literals</strong>, while Hash index can be either string or symbol literals.</p>

<ul>
<li><strong><code>Hash.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>{ key: &quot;value&quot; }.methods</code></strong>: <code>[]</code>, <code>[]=</code>, <code>any?</code>, <code>clear</code>, <code>default</code>, <code>default=</code>, <code>delete</code>, <code>delete_if</code>, <code>dig</code>, <code>each</code>, <code>each_key</code>, <code>each_value</code>, <code>empty?</code>, <code>eql?</code>, <code>fetch</code>, <code>fetch_values</code>, <code>has_key?</code>, <code>has_value?</code>, <code>keys</code>, <code>length</code>, <code>map_values</code>, <code>merge</code>, <code>new</code>, <code>select</code>, <code>sorted_keys</code>, <code>to_a</code>, <code>to_json</code>, <code>to_s</code>, <code>transform_values</code>, <code>values</code>, <code>values_at</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-range-"><code>Range</code></h3>

<pre><code class="ruby">(<span class="hljs-number">1</span>..<span class="hljs-number">10</span>).each <span class="hljs-keyword">do</span> <span class="hljs-params">|i|</span>
  puts i ** <span class="hljs-number">2</span>
<span class="hljs-keyword">end</span>
</code></pre>

<ul>
<li><strong><code>Range.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>(1..10).methods</code></strong>: <code>!=</code>, <code>==</code>, <code>bsearch</code>, <code>each</code>, <code>first</code>, <code>include?</code>, <code>last</code>, <code>lazy</code>, <code>map</code>, <code>new</code>, <code>size</code>, <code>step</code>, <code>to_a</code>, <code>to_enum</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-block-"><code>Block</code></h3>

<pre><code class="ruby">b = Block.new <span class="hljs-keyword">do</span>
  <span class="hljs-number">100</span>
<span class="hljs-keyword">end</span>

b.call  <span class="hljs-comment">#=&gt; 100</span>
</code></pre>

<ul>
<li><strong><code>Block.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>(Block.new do end).methods</code></strong>: <code>call</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h2 id="native-class-secondary-">Native class (secondary)</h2>
<h3 id="-float-"><code>Float</code></h3>

<pre><code class="ruby"><span class="hljs-number">1.1</span> + <span class="hljs-number">1.1</span>   <span class="hljs-comment"># =&gt; -2.2</span>
<span class="hljs-number">2.1</span> * -<span class="hljs-number">2.1</span>  <span class="hljs-comment"># =&gt; -4.41</span>
</code></pre>
<p>Float literals like <code>3.14</code> or <code>-273.15</code>. <code>Float</code> class is based on Golang&#39;s <code>float64</code> type.</p>

<ul>
<li><strong><code>Float.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>3.14.methods</code></strong>: <code>!=</code>, <code>%</code>, <code>*</code>, <code>**</code>, <code>+</code>, <code>-</code>, <code>/</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&lt;=&gt;</code>, <code>==</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>new</code>, <code>ptr</code>, <code>to_d</code>, <code>to_i</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-decimal-"><code>Decimal</code></h3>

<pre><code class="ruby"><span class="hljs-string">&quot;3.14&quot;</span>.to_d            <span class="hljs-comment"># =&gt; 3.14</span>
<span class="hljs-string">&quot;-0.7238943&quot;</span>.to_d      <span class="hljs-comment"># =&gt; -0.7238943</span>
<span class="hljs-string">&quot;355/113&quot;</span>.to_d         
<span class="hljs-comment"># =&gt; 3.1415929203539823008849557522123893805309734513274336283185840</span>

a = <span class="hljs-string">&quot;16.1&quot;</span>.to_d
b = <span class="hljs-string">&quot;1.1&quot;</span>.to_d
e = <span class="hljs-string">&quot;17.2&quot;</span>.to_d
a + b <span class="hljs-comment"># =&gt; 0.1</span>
a + b == e <span class="hljs-comment"># =&gt; true</span>

(<span class="hljs-string">&#x27;16.1&#x27;</span>.to_d  + <span class="hljs-string">&quot;1.1&quot;</span>.to_d).to_s <span class="hljs-comment">#=&gt; 17.2</span>
(<span class="hljs-string">&#x27;16.1&#x27;</span>.to_f  + <span class="hljs-string">&quot;1.1&quot;</span>.to_f).to_s <span class="hljs-comment">#=&gt; 17.200000000000003</span>
</code></pre>
<p>Experimental: the size is arbitrary and internally a fraction from Golang&#39;s <code>big.Rat</code> type. Decimal literal is TBD for now and you can get <code>Decimal</code> number via <code>to_d</code> method from <code>Integer</code>/<code>Float</code>/<code>String</code>.</p>

<ul>
<li><strong><code>Decimal.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>(1.1).to_d.methods</code></strong>: <code>!=</code>, <code>*</code>, <code>**</code>, <code>+</code>, <code>-</code>, <code>/</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&lt;=&gt;</code>, <code>==</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>denominator</code>, <code>fraction</code>, <code>inverse</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-regexp-"><code>Regexp</code></h3>

<pre><code class="ruby">a = Regexp.new(<span class="hljs-string">&quot;orl&quot;</span>)
a.match?(<span class="hljs-string">&quot;Hello World&quot;</span>)   <span class="hljs-comment">#=&gt; true</span>
a.match?(<span class="hljs-string">&quot;Hello Regexp&quot;</span>)  <span class="hljs-comment">#=&gt; false</span>

b = Regexp.new(<span class="hljs-string">&quot;😏&quot;</span>)
b.match?(<span class="hljs-string">&quot;🤡 😏 😐&quot;</span>)    <span class="hljs-comment">#=&gt; true</span>
b.match?(<span class="hljs-string">&quot;😝 😍 😊&quot;</span>)    <span class="hljs-comment">#=&gt; false</span>

c = Regexp.new(<span class="hljs-string">&quot;居(ら(?=れ)|さ(?=せ)|る|ろ|れ(?=[ばる])|よ|(?=な[いかくけそ]|ま[しすせ]|そう|た|て))&quot;</span>)
c.match?(<span class="hljs-string">&quot;居られればいいのに&quot;</span>)  <span class="hljs-comment">#=&gt; true</span>
c.match?(<span class="hljs-string">&quot;居ずまいを正す&quot;</span>)      <span class="hljs-comment">#=&gt; false</span>
</code></pre>
<p>Using <code>/ /</code> is to be implemented.</p>

<ul>
<li><strong><code>Regexp.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>Regexp.new(&quot;^aa$&quot;).methods</code></strong>: <code>==</code>, <code>match?</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-matchdata-"><code>MatchData</code></h3>

<pre><code class="ruby"><span class="hljs-comment"># numbered capture</span>
<span class="hljs-string">&#x27;abcd&#x27;</span>.match(Regexp.new(<span class="hljs-string">&#x27;(b.)&#x27;</span>))
<span class="hljs-comment">#=&gt; #&lt;MatchData 0:&quot;bc&quot; 1:&quot;bc&quot;&gt;</span>

<span class="hljs-comment"># named capture</span>
<span class="hljs-string">&#x27;abcd&#x27;</span>.match(Regexp.new(<span class="hljs-string">&#x27;a(?&lt;first&gt;b)(?&lt;second&gt;c)&#x27;</span>))
<span class="hljs-comment">#=&gt; #&lt;MatchData 0:&quot;abc&quot; first:&quot;b&quot; second:&quot;c&quot;&gt;</span>

<span class="hljs-comment"># converting to hash</span>
» <span class="hljs-string">&#x27;abcd&#x27;</span>.match(Regexp.new(<span class="hljs-string">&#x27;a(?&lt;first&gt;b)(?&lt;second&gt;c)&#x27;</span>)).to_h
<span class="hljs-comment">#» { 0: &quot;abc&quot;, first: &quot;b&quot;, second: &quot;c&quot; }</span>
</code></pre>
<p>The number keys in the captures are actually <code>String</code> class.The key <code>0</code> is the mached string.</p>

<ul>
<li><strong><code>MatchData.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>&#39;abcd&#39;.match(Regexp.new(&#39;(b.)&#39;)).methods</code></strong>: <code>captures</code>, <code>length</code>, <code>new</code>, <code>to_a</code>, <code>to_h</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-file-"><code>File</code></h3>

<pre><code class="ruby">f = File.new(<span class="hljs-string">&quot;../test_fixtures/file_test/size.gb&quot;</span>)
f.name  <span class="hljs-comment">#=&gt; &quot;../test_fixtures/file_test/size.gb&quot;</span>
</code></pre>

<ul>
<li><strong><code>File.methods</code></strong>: <code>basename</code>, <code>chmod</code>, <code>delete</code>, <code>exist?</code>, <code>extname</code>, <code>join</code>
<ul>
<li>the rest: <code>Class.methods</code></li>
</ul>
</li>
<li><strong><code>File.new.methods</code></strong>: <code>basename</code>, <code>chmod</code>, <code>close</code>, <code>delete</code>, <code>exist?</code>, <code>extname</code>, <code>join</code>, <code>name</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h2 id="native-class-golang-oriented-">Native class (Golang-oriented)</h2>
<h3 id="-gomap-"><code>GoMap</code></h3>

<pre><code class="ruby">h = { <span class="hljs-symbol">foo:</span> <span class="hljs-string">&quot;bar&quot;</span> }
m = GoMap.new(h)    <span class="hljs-comment"># to pass values to Golang&#x27;s code</span>
h2 = m.to_hash
h2[<span class="hljs-symbol">:foo</span>]   <span class="hljs-comment">#=&gt; &quot;bar&quot;</span>
</code></pre>

<ul>
<li><strong><code>GoMap.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>GoMap.new.methods</code></strong>: <code>get</code>, <code>set</code>, <code>to_hash</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-channel-"><code>Channel</code></h3>

<pre><code class="ruby">c = Channel.new

<span class="hljs-number">1001</span>.times <span class="hljs-keyword">do</span> <span class="hljs-params">|i|</span> <span class="hljs-comment"># i start from 0 to 1000</span>
  thread <span class="hljs-keyword">do</span>
      c.deliver(i)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

r = <span class="hljs-number">0</span>
<span class="hljs-number">1001</span>.times <span class="hljs-keyword">do</span>
  r = r + c.receive
<span class="hljs-keyword">end</span>

r <span class="hljs-comment">#=&gt; 500500</span>
</code></pre>
<p><code>Channel</code> class is to hold channels to work with <code>#thread</code>. See <code>thread</code>.</p>

<ul>
<li><strong><code>Channel.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>Channel.new.methods</code></strong>: <code>close</code>, <code>deliver</code>, <code>new</code>, <code>receive</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h2 id="enumerator-lazy">Enumerator &amp; lazy</h2>
<p>Pretty new experimental library.</p>
<h3 id="-lazyenumerator-"><code>LazyEnumerator</code></h3>

<pre><code class="ruby"><span class="hljs-comment"># creating a lazy enumerator</span>
enumerator = LazyEnumerator.new(ArrayEnumerator.new([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])) <span class="hljs-keyword">do</span> <span class="hljs-params">|value|</span>
    <span class="hljs-number">2</span> * value
<span class="hljs-keyword">end</span>
result = []

enumerator.each <span class="hljs-keyword">do</span> <span class="hljs-params">|value|</span>
    result.push(value)
<span class="hljs-keyword">end</span>

result   <span class="hljs-comment">#=&gt; [2, 4, 6]</span>
</code></pre>
<p>A shorthand <code>#lazy</code> method is also provided in <code>Array</code> and <code>Range</code> by now. See &quot;Tips &amp; tricks&quot; below. </p>

<ul>
<li><strong><code>LazyEnumerator.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>[1, 2].lazy</code></strong>: <code>each</code>, <code>first</code>, <code>has_next?</code>, <code>initialize</code>, <code>map</code>, <code>next</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-arrayenumerator-"><code>ArrayEnumerator</code></h3>

<pre><code class="ruby">iterated_values = []

enumerator = ArrayEnumerator.new([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>])

<span class="hljs-keyword">while</span> enumerator.has_next? <span class="hljs-keyword">do</span>
    iterated_values.push(enumerator.<span class="hljs-keyword">next</span>)
<span class="hljs-keyword">end</span>

iterated_values   <span class="hljs-comment">#=&gt; [1, 2, 4]</span>
</code></pre>

<ul>
<li><strong><code>ArrayEnumerator.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>ArrayEnumerator.new([1, 2, 3]).methods</code></strong>: <code>has_next?</code>, <code>initialize</code>, <code>next</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h3 id="-rangeenumerator-"><code>RangeEnumerator</code></h3>

<pre><code class="ruby">iterated_values = []

enumerator = RangeEnumerator.new((<span class="hljs-number">1</span>..<span class="hljs-number">4</span>))

<span class="hljs-keyword">while</span> enumerator.has_next? <span class="hljs-keyword">do</span>
    iterated_values.push(enumerator.<span class="hljs-keyword">next</span>)
<span class="hljs-keyword">end</span>

iterated_values   <span class="hljs-comment">#=&gt; [1, 2, 3, 4]</span>
</code></pre>

<ul>
<li><strong><code>RangeEnumerator.methods</code></strong>: the same as <code>Class.methods</code></li>
<li><strong><code>RangeEnumerator.new(1..2).methods</code></strong>: <code>has_next?</code>, <code>initialize</code>, <code>next</code>
<ul>
<li>the rest: <code>Object.new.methods</code></li>
</ul>
</li>
</ul>
<h2 id="special-class">Special class</h2>
<h3 id="-boolean-"><code>Boolean</code></h3>

<pre><code class="ruby"><span class="hljs-literal">true</span>.<span class="hljs-keyword">class</span>  <span class="hljs-comment">#=&gt; Boolean</span>
<span class="hljs-literal">false</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; Boolean</span>
</code></pre>
<p>A special class that just to hold <code>true</code> and <code>false</code>. Cannot be instantiate.</p>
<h3 id="-null-"><code>Null</code></h3>

<pre><code class="ruby"><span class="hljs-literal">nil</span>.<span class="hljs-keyword">class</span>   <span class="hljs-comment">#=&gt; Null</span>
</code></pre>
<p>A special class that just to hold <code>nil</code>. Cannot be instantiate.</p>
<h3 id="-method-"><code>Method</code></h3>
<p>(A special dummy class that just holds methods defined by Goby code.)</p>
<h3 id="-diggable-"><code>Diggable</code></h3>
<p>Provides <code>#dig</code> method. Currently. <code>Array</code> and <code>Hash</code> classes&#39; instance can be <code>Diggable</code>.</p>

<pre><code class="ruby">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>].dig(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment">#=&gt; TypeError: Expect target to be Diggable, got Integer</span>
</code></pre>
<h2 id="testing-framework">Testing framework</h2>
<h3 id="-spec-"><code>Spec</code></h3>

<pre><code class="ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&quot;spec&quot;</span>

Spec.describe Spec <span class="hljs-keyword">do</span>
  it <span class="hljs-string">&quot;fails and exit with code 1&quot;</span> <span class="hljs-keyword">do</span>
    expect(<span class="hljs-number">1</span>).to eq(<span class="hljs-number">2</span>)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Spec.run
</code></pre>

<ul>
<li><strong><code>Spec.methods</code></strong>: <code>describe</code>, <code>describes</code>, <code>instance</code>, <code>run</code>
<ul>
<li>the rest: <code>Object.methods</code></li>
</ul>
</li>
<li><strong><code>Spec.new.methods</code></strong>: <code>describes</code>, <code>initialize</code>, <code>run</code>, <code>session_successful</code>, <code>session_successful=</code>
<ul>
<li>the rest: <code>Hash.new.methods</code></li>
</ul>
</li>
</ul>
<h2 id="tips-tricks">Tips &amp; tricks</h2>
<h3 id="showing-methods">Showing methods</h3>

<pre><code class="ruby">» <span class="hljs-string">&quot;string&quot;</span>.methods
<span class="hljs-comment">#» [&quot;!=&quot;, &quot;*&quot;, &quot;+&quot;, &quot;&lt;&quot;, &quot;&lt;=&gt;&quot;, &quot;==&quot;, &quot;=~&quot;, &quot;&gt;&quot;, &quot;[]&quot;, &quot;[]=&quot;, &quot;capitalize&quot;, &quot;chop&quot;, &quot;concat&quot;, &quot;count&quot;, &quot;delete&quot;, &quot;downcase&quot;, &quot;each_byte&quot;, &quot;each_char&quot;, &quot;each_line&quot;, &quot;empty?&quot;, &quot;end_with?&quot;, &quot;eql?&quot;, &quot;fmt&quot;, &quot;include?&quot;, &quot;insert&quot;, &quot;length&quot;, &quot;ljust&quot;, &quot;match&quot;, &quot;new&quot;, &quot;replace&quot;, &quot;replace_once&quot;, &quot;reverse&quot;, &quot;rjust&quot;, &quot;size&quot;, &quot;slice&quot;, &quot;split&quot;, &quot;start_with&quot;, &quot;strip&quot;, &quot;to_a&quot;, &quot;to_bytes&quot;, &quot;to_d&quot;, &quot;to_f&quot;, &quot;to_i&quot;, &quot;to_s&quot;, &quot;upcase&quot;, &quot;!&quot;, &quot;block_given?&quot;, &quot;class&quot;, &quot;exit&quot;, &quot;instance_eval&quot;, &quot;instance_variable_get&quot;, &quot;instance_variable_set&quot;, &quot;is_a?&quot;, &quot;methods&quot;, &quot;nil?&quot;, &quot;object_id&quot;, &quot;puts&quot;, &quot;raise&quot;, &quot;require&quot;, &quot;require_relative&quot;, &quot;send&quot;, &quot;singleton_class&quot;, &quot;sleep&quot;, &quot;thread&quot;]</span>
</code></pre>
<h3 id="showing-class">Showing class</h3>

<pre><code class="ruby">» <span class="hljs-string">&quot;string&quot;</span>.<span class="hljs-keyword">class</span>
<span class="hljs-comment">#» String</span>
</code></pre>
<h3 id="showing-singleton-class">Showing singleton class</h3>

<pre><code class="ruby">» <span class="hljs-string">&quot;moji&quot;</span>.singleton_class
<span class="hljs-comment">#» #&lt;Class:#&lt;String:842352325152&gt;&gt;</span>

» <span class="hljs-string">&quot;moji&quot;</span>.<span class="hljs-keyword">class</span>.singleton_class
<span class="hljs-comment">#» #&lt;Class:String&gt;</span>
</code></pre>
<h3 id="showing-ancestors">Showing ancestors</h3>

<pre><code class="ruby">» Integer.ancestors
<span class="hljs-comment">#» [Integer, Object]</span>

» <span class="hljs-string">&quot;moji&quot;</span>.<span class="hljs-keyword">class</span>.ancestors
<span class="hljs-comment">#» [String, Object]</span>
</code></pre>
<h3 id="showing-singleton-classes-ancestors">Showing singleton classes&#39; ancestors</h3>

<pre><code class="ruby">» <span class="hljs-string">&quot;moji&quot;</span>.<span class="hljs-keyword">class</span>.singleton_class.ancestors
<span class="hljs-comment">#» [#&lt;Class:String&gt;, #&lt;Class:Object&gt;, Class, Object]</span>
</code></pre>
<h3 id="showing-object-s-id">Showing object&#39;s id</h3>

<pre><code class="ruby">» <span class="hljs-string">&quot;moji&quot;</span>.object_id
<span class="hljs-comment">#» 842352977920</span>
</code></pre>
<h3 id="-to_json-"><code>#to_json</code></h3>

<pre><code class="ruby">h = { <span class="hljs-symbol">a:</span> <span class="hljs-number">1</span>, <span class="hljs-symbol">b:</span> [<span class="hljs-number">1</span>, <span class="hljs-string">&quot;2&quot;</span>, [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-literal">nil</span>]]}
h.to_json         <span class="hljs-comment"># converts hash to JSON</span>
<span class="hljs-comment">#=&gt; {&quot;a&quot;:1, &quot;b&quot;:[1, &quot;2&quot;, [4, 5, null]]}</span>
</code></pre>
<h3 id="customize-to_json-">Customize <code>#to_json</code></h3>
<p>Overwrite the <code>#to_json</code> in your class:</p>

<pre><code class="ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JobTitle</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(name)</span></span>
    <span class="hljs-variable">@name</span> = name
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_json</span></span>
    { <span class="hljs-symbol">title:</span> <span class="hljs-variable">@name</span> }.to_json
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(name, age)</span></span>
    <span class="hljs-variable">@name</span> = name
    <span class="hljs-variable">@age</span> = age
    <span class="hljs-variable">@job</span> = JobTitle.new(<span class="hljs-string">&quot;software engineer&quot;</span>)
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_json</span></span>
    { <span class="hljs-symbol">name:</span> <span class="hljs-variable">@name</span>, <span class="hljs-symbol">age:</span> <span class="hljs-variable">@age</span>, <span class="hljs-symbol">job:</span> <span class="hljs-variable">@job</span> }.to_json
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

stan = Person.new(<span class="hljs-string">&quot;Stan&quot;</span>, <span class="hljs-number">23</span>)
h = { <span class="hljs-symbol">person:</span> stan }
h.to_json <span class="hljs-comment">#=&gt; {&quot;person&quot;:{&quot;name&quot;:&quot;Stan&quot;,&quot;job&quot;:{&quot;title&quot;:&quot;software engineer&quot;},&quot;age&quot;:23}}</span>
</code></pre>
<h3 id="lazy-enumeration">Lazy enumeration</h3>
<p>To avoid N + 1 query.</p>

<pre><code class="ruby">enumerator = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].lazy.map <span class="hljs-keyword">do</span> <span class="hljs-params">|value|</span>
    <span class="hljs-number">2</span> * value
<span class="hljs-keyword">end</span>
result = []

enumerator.each <span class="hljs-keyword">do</span> <span class="hljs-params">|value|</span>
    result.push(value)
<span class="hljs-keyword">end</span>

result  <span class="hljs-comment">#=&gt; [2, 4, 6]</span>
</code></pre>
<p>You can call <code>#lazy.map</code> on <code>Array</code>, <code>Range</code>, or <code>JSON</code> objects. </p>
<h2 id="styling">Styling</h2>
<h3 id="quick-style-guide">Quick style guide</h3>

<ul>
<li>UTF-8 should be used.</li>
<li>Only two spaces <code></code> should be used for one indentation.
<ul>
<li>Tab cannot be used for indentation.</li>
</ul>
</li>
<li>For more, follow <a href="https://github.com/bbatsov/ruby-style-guide">RuboCop&#39;s style guide</a> in principle.</li>
</ul>
<h3 id="document-notation">Document notation</h3>

<ul>
<li><code>Class#instance_method</code> -- use <code>#</code> to represent instance methods in documents</li>
<li><code>Class.class_method</code></li>
<li><code>Module.module_method</code></li>
</ul>
<h3 id="syntax-highlighting">Syntax highlighting</h3>
<p>Ready for Vim and Sublime text. You can also use Ruby&#39;s syntax highlighting so far.</p>
<h2 id="references">References</h2>
<h3 id="official">Official</h3>

<ul>
<li>Official site: <a href="https://goby-lang.org/">https://goby-lang.org/</a></li>
<li>Repository: <a href="https://github.com/goby-lang/goby/">https://github.com/goby-lang/goby/</a></li>
<li>DevHints: <a href="https://devhints.io/goby">https://devhints.io/goby</a> (this page)</li>
</ul>
<h3 id="readings-for-goby-developers">Readings for Goby developers</h3>

<ul>
<li><a href="https://interpreterbook.com/">Write an Interpreter in Go</a></li>
<li><a href="https://www.coursera.org/learn/nand2tetris2/home/welcome">Nand2Tetris II</a></li>
<li><a href="http://patshaughnessy.net/ruby-under-a-microscope">Ruby under a microscope</a></li>
<li><a href="http://www.atdot.net/yarv/insnstbl.html">YARV&#39;s instruction table</a></li>
</ul>
<h3 id="jp-resource">JP resource</h3>

<ul>
<li><a href="https://techracho.bpsinc.jp/hachi8833/2017_11_10/47787">Goby: Rubyライクな言語（1）Gobyを動かしてみる</a></li>
<li><a href="https://qiita.com/hanachin_/items/efc1c976a4f5749514ef">Gobyの組み込みクラスにメソッドを追加する方法</a></li>
</ul>

</div>
</body>  
</html>